<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="100%" onload="window.textpath_demoInit(evt)" preserveAspectRatio="xMidYMid meet" viewBox="0 0 800 600" width="100%"><g transform="translate(75 120)"><rect height="300" rx="10" ry="10" style="stroke:gray;fill:none;" width="650" x="0" y="0"/><image height="10pt" width="10pt" x="10" xlink:href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxMHB0IiBoZWlnaHQ9IjEwcHQiIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij4KPGcgaWQ9Imljb21vb24taWdub3JlIj4KCTxsaW5lIHN0cm9rZS13aWR0aD0iMSIgeDE9IiIgeTE9IiIgeDI9IiIgeTI9IiIgc3Ryb2tlPSIjNDQ5RkRCIiBvcGFjaXR5PSIiPjwvbGluZT4KPC9nPgoJPHBhdGggZD0iTTY0IDBjLTM1LjM0NyAwLTY0IDI4LjY1My02NCA2NHMyOC42NTMgNjQgNjQgNjQgNjQtMjguNjUzIDY0LTY0LTI4LjY1My02NC02NC02NHpNOTAuMTAxIDY5LjY1N2wtMzIgMzJjLTMuMTI0IDMuMTI0LTguMTg5IDMuMTI0LTExLjMxNCAwcy0zLjEyNC04LjE4OSAwLTExLjMxNGwyNi4zNDMtMjYuMzQzLTI2LjM0My0yNi4zNDNjLTMuMTI0LTMuMTI0LTMuMTI0LTguMTg5IDAtMTEuMzE0czguMTg5LTMuMTI1IDExLjMxNCAwbDMyIDMyYzEuNDQ4IDEuNDQ4IDIuMzQzIDMuNDQ4IDIuMzQzIDUuNjU3cy0wLjg5NSA0LjIwOS0yLjM0MyA1LjY1N3oiIGZpbGw9IiMwMDAwMDAiPjwvcGF0aD4KPC9zdmc+Cg==" y="8"/><text class="unselect" style="font-family:verdana sans-serif;font-size:16pt;text-anchor:start;font-weight:normal;" x="30" y="20">Move your text on a path</text><g style="font-family:sans-serif;font-size:12pt;text-decoration:underline;font-style:normal;"><a target="_blank" xlink:href="http://www.w3.org/TR/SVG/text.html#TextOnAPath" xlink:show="replace"><text style="text-anchor:start;fill:navy;" x="10" y="280">View textPath element definition</text></a><a target="_blank" xlink:href="http://www.draw-svg.appspot.com/drawsvg.html" xlink:show="replace"><text style="text-anchor:end;fill:navy;" x="640" y="20">Draw SVG</text></a></g><g transform="translate(-30 50) scale(0.5)"><path d="M 100 200 C 200 100 300   0 400 100 C 500 200 600 300 700 200 C 800 100 900 100 900 100" id="MyPath" style="fill:none;stroke:black;stroke-dasharray:10 10;"/><text fill="sienna" font-family="Verdana" font-size="42.5"><textPath id="demo" xlink:href="#MyPath">This is a text on a path</textPath></text></g><g transform="translate(450 50)"><g id="textpathpanel" onmousedown="window.textpath_onCadre(evt)"><defs><script type="text/ecmascript"><![CDATA[

	 
// API externe (svg embed ou inline..)
window.textpathpanel = {
	init : function() {
		window.textpath_init();
	},
	setTextPath : function(v) {
		try {
			window.textpath_setTextPath(v);
		} catch(ex) {alert("textpath_setTextpath("+v+"): " + ex);}
	}
		
};

window.parent.textpathpanel=window.textpathpanel;
	 
 ]]></script></defs><defs><style type="text/css"><![CDATA[
 
text.unselect {
	pointer-events:none;-moz-user-select: none;-webkit-user-select: none;-ms-user-select: none;
}
#textpathpanel-bar {
	fill:gray;
	stroke:none;
	cursor:move;
}
#textpathpanel-bar:hover {
	fill:black;
	stroke:none;
	cursor:move;
}
#textpathpanel-rect {
	stroke-width:1;
	fill:whitesmoke;
	fill-opacity:1;
	stroke:lavender;
}
#textpathpanel-close {
	fill:white;
	stroke:none;
	fill-opacity:0.1;
}
#textpathpanel-close:hover {
	fill:navy;
	stroke:navy;
	stroke-width:1;
}
#textPathOffsetApplyText {
	fill:black;
	font-size:7pt;
	font-weight:normal;
}
#textPathOffsetApplyRect {
	fill:white;
	fill-opacity:0.1;
	stroke:lavender;
	stroke-width:1;
}
#textPathOffsetApplyRect:hover {
	fill:white;
	fill-opacity:0.1;
	stroke:black;
	stroke-width:1;
}
rect.textrect {fill:white;fill-opacity:0.1;stroke:none;}
text.header {
	font-family:sans-serif;
	font-weight:bold;
	font-size:9px;
	fill:black;
}
text.value {
	font-size:8px;fill:black;font-family:sans-serif;
}
circle.toggleC {fill:white;stroke:black;stroke-width:0.5px;}
circle.toggle0 {fill:white;stroke:none;}
circle.toggle1 {fill:black;stroke:none;}

rect.textEdit0 {
	fill : papayawhip;
	fill-opacity:0.2;
	stroke:none;
	pointer-events:all;
}
rect.textEdit0:hover {
	fill : papayawhip;
	fill-opacity:0.5;
	vector-effect:non-scaling-stroke;
	stroke:Sienna;
	stroke-width:1px;
	stroke-dasharray: 1px, 1px;
	pointer-events:all;
}
rect.textEdit2 {
	fill : papayawhip;
	fill-opacity:0.5;
	vector-effect:non-scaling-stroke;
	stroke:Sienna;
	stroke-width:2px;
	pointer-events:all;
}
 ]]></style></defs><g id="textpathpanel-g" transform="translate(20 20)"><defs><path d="M0 0 l -2 -2 v -3 h 4 v1 h-4 h4 v 2 z" id="indexH" style="stroke-width:0.1; stroke: black;cursor:e-resize;fill:white;" transform="scale(0.3)"/></defs><g id="textpathpanel-gs" transform="scale(1.4)"><rect height="110" id="textpathpanel-rect" rx="4" ry="4" width="100" x="0" y="0"/><rect height="6" id="textpathpanel-bar" rx="2" ry="2" width="92" x="4" y="4"/><g transform="translate(11 28)"><defs><clipPath id="offset-value-clip"><rect height="10" width="40" x="40" y="-7"/></clipPath></defs><text class="value unselect" id="total-length" text-anchor="end" x="80" y="-4">00</text><g transform="translate(0 20)"><text class="header unselect" x="0" y="0">Offset</text><text class="value unselect" clip-path="url(#offset-value-clip)" id="offset-value" text-anchor="end" x="80" y="0">1</text><rect class="textEdit0" height="10" id="offset-value-rect" onmousedown="window.textpath_onClickTextEditOffset(evt)" width="40" x="40" y="-7"/></g><g transform="scale(8)"><rect height="2" style="fill:whitesmoke;stroke:none;" width="11" x="-0.5" y="-0.5"/><rect height="1" id="offset-bar" style="fill:lavender;stroke:black;stroke-width:0.1;pointer-events:none;" width="10" x="0" y="0"/><g id="offset-bar-g" onmousedown="window.textpath_onOffsetRect(evt)" style="fill:lavender;stroke:none;stroke-width:0.1;cursor:pointer;"><rect height="1" width="1" x="0" y="0"/><rect height="1" width="1" x="1" y="0"/><rect height="1" width="1" x="2" y="0"/><rect height="1" width="1" x="3" y="0"/><rect height="1" width="1" x="4" y="0"/><rect height="1" width="1" x="5" y="0"/><rect height="1" width="1" x="6" y="0"/><rect height="1" width="1" x="7" y="0"/><rect height="1" width="1" x="8" y="0"/><rect height="1" width="1" x="9" y="0"/></g><path d="M0 2h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2" style="stroke:black;stroke-width:0.1;pointer-events:none;" transform="scale(0.5)"/><use id="offset-index" x="0" xlink:href="#indexH" y="0.4"/></g></g><g id="method" transform="translate(11 65)"><text class="header unselect">Method</text><g id="method-align-g" onmousedown="window.textpath_onSetMethod(evt,'align')" style="cursor:pointer;" transform="translate(5 8)"><circle class="toggleC" cx="0" cy="0" r="2.5"/><circle class="toggle1" cx="0" cy="0" r="1"/><text class="value unselect" x="4" y="1.8">align</text><rect class="textrect"/></g><g id="method-stretch-g" onmousedown="window.textpath_onSetMethod(evt,'stretch')" style="cursor:pointer;" transform="translate(5 17)"><circle class="toggleC" cx="0" cy="0" r="2.5"/><circle class="toggle0" cx="0" cy="0" r="1"/><text class="value unselect" x="4" y="1.8">stretch</text><rect class="textrect"/></g></g><g id="spacing" transform="translate(61 65)"><text class="header unselect" text-anchor="end" x="30" y="0">Spacing</text><g id="spacing-exact-g" onmousedown="window.textpath_onSetSpacing(evt,'exact')" style="cursor:pointer;" transform="translate(5 8)"><circle class="toggleC" cx="0" cy="0" r="2.5"/><circle class="toggle1" cx="0" cy="0" r="1"/><text class="value unselect" x="4" y="1.8">exact</text><rect class="textrect"/></g><g id="spacing-auto-g" onmousedown="window.textpath_onSetSpacing(evt,'auto')" style="cursor:pointer;" transform="translate(5 17)"><circle class="toggleC" cx="0" cy="0" r="2.5"/><circle class="toggle0" cx="0" cy="0" r="1"/><text class="value unselect" x="4" y="1.8">auto</text><rect class="textrect"/></g></g><g id="textPathOffsetCloseGroup" onmousedown="window.textpath_onClose(evt)" transform="translate(104 4)"><image height="10" width="10" x="0" xlink:href="data:image/gif;base64,R0lGODlhDAAMAJEAAFNgvMrZ93yL0Oz1/CH5BAAAAAAALAAAAAAMAAwAAAImlI83yw0yRGgBvlEnluPukC3exonQUpXdmYXrh3KXur3NDeT6rhcAOw==" y="0"/><rect height="10" id="textpathpanel-close" width="10" x="0" y="0"/></g><text class="unselect" id="textPathOffsetApplyText" style="text-anchor:end;" x="94" y="100"> OK </text><rect id="textPathOffsetApplyRect" onmousedown="window.textpath_onApply(evt)" rx="2" ry="2"/><text class="unselect" font-size="7" style="font-family:sans-serif;font-style:normal;" x="3" y="106">Offset textPath tool</text></g></g><defs id="JS"><script type="text/ecmascript"><![CDATA[var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(a,b,c){a instanceof String&&(a=String(a));for(var d=a.length,e=0;e<d;e++){var f=a[e];if(b.call(c,f,e,a))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;
$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,b,c){a!=Array.prototype&&a!=Object.prototype&&(a[b]=c.value)};$jscomp.getGlobal=function(a){a=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,a];for(var b=0;b<a.length;++b){var c=a[b];if(c&&c.Math==Math)return c}return globalThis};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,b,c,d){if(b){c=$jscomp.global;a=a.split(".");for(d=0;d<a.length-1;d++){var e=a[d];e in c||(c[e]={});c=c[e]}a=a[a.length-1];d=c[a];b=b(d);b!=d&&null!=b&&$jscomp.defineProperty(c,a,{configurable:!0,writable:!0,value:b})}};$jscomp.polyfill("Array.prototype.find",function(a){return a?a:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");
var svgtk={NS:"http://www.w3.org/2000/svg",XLINK_NS:"http://www.w3.org/1999/xlink",EVT_TYPE_MOUSE_DOWN:"mousedown",EVT_TYPE_MOUSE_MOVE:"mousemove",EVT_TYPE_MOUSE_UP:"mouseup",EVT_TYPE_TOUCH_START:"touchstart",EVT_TYPE_TOUCH_MOVE:"touchmove",EVT_TYPE_TOUCH_END:"touchend",provideNamespace:function(a){"undefined"==typeof window[a]&&(window[a]={})},removeA:function(a,b){a.removeAttribute(b);return a},removeBegin:function(a){return svgtk.removeA(a,"begin")},removeCursor:function(a){return svgtk.removeStyleAttribute(a,
"cursor")},removeFill:function(a){return svgtk.removeStyleAttribute(a,"fill")},removeFillOpacity:function(a){return svgtk.removeStyleAttribute(a,"fill-opacity")},removeFillRule:function(a){return svgtk.removeStyleAttribute(a,"fill-rule")},removeFilter:function(a){return svgtk.removeStyleAttribute(a,"filter")},removeFontFamily:function(a){return svgtk.removeStyleAttribute(a,"font-family")},removeFontSize:function(a){return svgtk.removeStyleAttribute(a,"font-size")},removeFontStyle:function(a){return svgtk.removeStyleAttribute(a,
"font-style")},removeFontStretch:function(a){return svgtk.removeStyleAttribute(a,"font-stretch")},removeFontVariant:function(a){return svgtk.removeStyleAttribute(a,"font-variant")},removeFontWeight:function(a){return svgtk.removeStyleAttribute(a,"font-weight")},removeHref:function(a,b){a.removeAttributeNS(svgtk.XLINK_NS,"href");return a},removeMarkerStart:function(a){return svgtk.removeStyleAttribute(a,"marker-start")},removeMarkerMid:function(a){return svgtk.removeStyleAttribute(a,"marker-mid")},
removeMarkerEnd:function(a){return svgtk.removeStyleAttribute(a,"marker-end")},removePointerEvents:function(a){return svgtk.removeStyleAttribute(a,"pointer-events")},removeStroke:function(a){return svgtk.removeStyleAttribute(a,"stroke")},removeStrokeWidth:function(a){return svgtk.removeStyleAttribute(a,"stroke-width")},removeStrokeDash:function(a){return svgtk.removeStyleAttribute(a,"stroke-dasharray")},removeStrokeDashOffset:function(a){return svgtk.removeStyleAttribute(a,"stroke-dashoffset")},removeStrokeLinecap:function(a){return svgtk.removeStyleAttribute(a,
"stroke-linecap")},removeStrokeLinejoin:function(a){return svgtk.removeStyleAttribute(a,"stroke-linejoin")},removeStrokeMiterLimit:function(a){return svgtk.removeStyleAttribute(a,"stroke-miterlimit")},removeStrokeOpacity:function(a){return svgtk.removeStyleAttribute(a,"stroke-opacity")},removeStyle:function(a){return svgtk.removeA(a,"style")},removeTextAnchor:function(a){return svgtk.removeStyleAttribute(a,"text-anchor")},removeTextDecoration:function(a){return svgtk.removeStyleAttribute(a,"text-decoration")},
setA:function(a,b,c){a.setAttribute(b,c);return a},setClass:function(a,b){return svgtk.setA(a,"class",b)},getD:function(a){return svgtk.getA(a,"d")},getDur:function(a){return svgtk.getA(a,"dur")},getId:function(a){return svgtk.getA(a,"id")},getGradientUnits:function(a){return svgtk.getA(a,"gradientUnits")},getMarkerHeight:function(a){return svgtk.getA(a,"markerHeight")},getMarkerWidth:function(a){return svgtk.getA(a,"markerWidth")},getMarkerUnits:function(a){return svgtk.getA(a,"markerUnits")},getPatternUnits:function(a){return svgtk.getA(a,
"patternUnits")},getPatternContentUnits:function(a){return svgtk.getA(a,"patternContentUnits")},getSpreadMethod:function(a){return svgtk.getA(a,"spreadMethod")},getTextAnchor:function(a){return svgtk.getA(a,"text-anchor")},getTextDecoration:function(a){return svgtk.getA(a,"text-decoration")},setClipPath:function(a,b){return svgtk.setA(a,"clip-path","url(#"+b+")")},setCursor:function(a,b){return svgtk.setStyleAttribute(a,"cursor",b)},setFill:function(a,b){return svgtk.setStyleMemberAttribute(a,"fill",
b)},setFillGrd:function(a,b){return svgtk.setFillUrlId(a,b)},setFillOpacity:function(a,b){return svgtk.setStyleAttribute(a,"fill-opacity",b)},setFillPattern:function(a,b){return svgtk.setFillUrlId(a,b)},setFillRule:function(a,b){return svgtk.setStyleAttribute(a,"fill-rule",b)},setFillUrlId:function(a,b){svgtk.removeFill(a);return svgtk.setA(a,"fill","url(#"+b+")")},setFilterId:function(a,b){return svgtk.setStyleMemberAttribute(a,"filter","url(#"+b+")")},setGradientUnits:function(a,b){return svgtk.setA(a,
"gradientUnits",b)},setHeight:function(a,b){return svgtk.setA(a,"height",b)},setId:function(a,b){return svgtk.setA(a,"id",b)},setMarker:function(a,b,c){return svgtk.setStyleAttribute(a,b,"url(#"+c+")")},setMarkerEnd:function(a,b){return svgtk.setStyleAttribute(a,"marker-end","url(#"+b+")")},setMarkerMid:function(a,b){return svgtk.setStyleAttribute(a,"marker-mid","url(#"+b+")")},setMarkerStart:function(a,b){return svgtk.setStyleAttribute(a,"marker-start","url(#"+b+")")},setMarkerHeight:function(a,
b){return svgtk.setA(a,"markerHeight",b)},setMarkerWidth:function(a,b){return svgtk.setA(a,"markerWidth",b)},setMarkerUnits:function(a,b){return svgtk.setA(a,"markerUnits",b)},setPatternContentUnits:function(a,b){return svgtk.setA(a,"patternContentUnits",b)},setPatternUnits:function(a,b){return svgtk.setA(a,"patternUnits",b)},setSpreadMethod:function(a,b){return svgtk.setA(a,"spreadMethod",b)},setTextAnchor:function(a,b){return svgtk.setStyleAttribute(a,"text-anchor",b)},setTextDecoration:function(a,
b){return svgtk.setStyleAttribute(a,"text-decoration",b)},setRect:function(a,b,c){return svgtk.setHeight(svgtk.setWidth(svgtk.setY(svgtk.setX(a,b.x-c),b.y-c),b.width+c+c),b.height+c+c)},setElementPreviousRectBox:function(a,b){return svgtk.setRect(svgtk.getPreviousSibling(a,"rect"),a.getBBox(),b)},setElementNextRectBox:function(a,b){return svgtk.setRect(svgtk.getNextSibling(a,"rect"),a.getBBox(),b)},setElementRectBox:function(a,b){return svgtk.setRect(svgtk.getNextSibling(a,"rect"),a.getBBox(),b)},
setRefX:function(a,b){return svgtk.setA(a,"refX",b)},setRefY:function(a,b){return svgtk.setA(a,"refY",b)},setPointerEvents:function(a,b){return svgtk.setStyleAttribute(a,"pointer-events",b)},setFontFamily:function(a,b){return svgtk.setStyleAttribute(a,"font-family",b)},setFontWeight:function(a,b){return svgtk.setStyleAttribute(a,"font-weight",b)},setFontSize:function(a,b){return svgtk.setPtyLength(a,"font-size",b)},setFontStyle:function(a,b){return svgtk.setStyleAttribute(a,"font-style",b)},setFontStretch:function(a,
b){return svgtk.setStyleAttribute(a,"font-stretch",b)},setFontVariant:function(a,b){return svgtk.setStyleAttribute(a,"font-variant",b)},setFrom:function(a,b){return svgtk.setA(a,"from",b)},setStartOffset:function(a,b){return svgtk.setStyleAttribute(a,"startOffset",b)},setStopColor:function(a,b){return svgtk.setStyleAttribute(a,"stop-color",b)},setStopOpacity:function(a,b){return svgtk.setStyleAttribute(a,"stop-opacity",b)},setStroke:function(a,b){return svgtk.setStyleMemberAttribute(a,"stroke",b)},
setStrokeDash:function(a,b){return svgtk.setStyleAttribute(a,"stroke-dasharray",b)},setStrokeDashOffset:function(a,b){return svgtk.setStyleAttribute(a,"stroke-dashoffset",b)},setStrokeGrd:function(a,b){return svgtk.setStrokeUrlId(a,b)},setStrokeLinecap:function(a,b){return svgtk.setStyleAttribute(a,"stroke-linecap",b)},setStrokeLinejoin:function(a,b){return svgtk.setStyleAttribute(a,"stroke-linejoin",b)},setStrokeMiterLimit:function(a,b){return svgtk.setStyleAttribute(a,"stroke-miterlimit",b)},setStrokeOpacity:function(a,
b){return svgtk.setStyleAttribute(a,"stroke-opacity",b)},setStrokePattern:function(a,b){return svgtk.setStrokeUrlId(a,b)},setStrokeUrlId:function(a,b){svgtk.removeStroke(a);return svgtk.setA(a,"stroke","url(#"+b+")")},setStrokeWidth:function(a,b){return svgtk.setPtyLength(a,"stroke-width",b)},setStyle:function(a,b){return svgtk.setA(a,"style",b)},setTo:function(a,b){return svgtk.setA(a,"to",b)},setTransform:function(a,b){return svgtk.setA(a,"transform",b)},setVectorEffect:function(a,b){return svgtk.setStyleAttribute(a,
"vector-effect",b)},setWidth:function(a,b){return svgtk.setA(a,"width",b)},setX:function(a,b){return svgtk.setA(a,"x",b)},setX1:function(a,b){return svgtk.setA(a,"x1",b)},setX2:function(a,b){return svgtk.setA(a,"x2",b)},setY:function(a,b){return svgtk.setA(a,"y",b)},setY1:function(a,b){return svgtk.setA(a,"y1",b)},setY2:function(a,b){return svgtk.setA(a,"y2",b)},setCx:function(a,b){return svgtk.setA(a,"cx",b)},setCy:function(a,b){return svgtk.setA(a,"cy",b)},setD:function(a,b){return svgtk.setA(a,
"d",b)},setBegin:function(a,b){return svgtk.setA(a,"begin",b)},setDur:function(a,b){return svgtk.setA(a,"dur",b)},setFx:function(a,b){return svgtk.setA(a,"fx",b)},setFy:function(a,b){return svgtk.setA(a,"fy",b)},setHref:function(a,b){a.setAttributeNS(svgtk.XLINK_NS,"href",b);return a},setR:function(a,b){return svgtk.setA(a,"r",b)},getCursor:function(a){return svgtk.getStyleAttribute(a,"cursor")},getFill:function(a){return svgtk.getStyleMemberAttribute(a,"fill")},getFillGrd:function(a){return svgtk.getUrlAnchor(svgtk.getFill(a))},
getFillOpacity:function(a){return svgtk.getStyleAttribute(a,"fill-opacity")},getFillPattern:function(a){return svgtk.getUrlAnchor(svgtk.getFill(a))},getFillRule:function(a){return svgtk.getStyleAttribute(a,"fill-rule")},getFontFamily:function(a){return svgtk.getStyleAttribute(a,"font-family")},getFontSize:function(a){return svgtk.getStyleAttribute(a,"font-size")},getFontStyle:function(a){return svgtk.getStyleAttribute(a,"font-style")},getFontStretch:function(a){return svgtk.getStyleAttribute(a,"font-stretch")},
getFontVariant:function(a){return svgtk.getStyleAttribute(a,"font-variant")},getFontWeight:function(a){return svgtk.getStyleAttribute(a,"font-weight")},getHref:function(a){return a.getAttributeNS(svgtk.XLINK_NS,"href")},getMarker:function(a,b){return svgtk.getUrlAnchor(svgtk.getStyleAttribute(a,b))},getMarkerStart:function(a){return svgtk.getUrlAnchor(svgtk.getStyleAttribute(a,"marker-start"))},getMarkerMid:function(a){return svgtk.getUrlAnchor(svgtk.getStyleAttribute(a,"marker-mid"))},getMarkerEnd:function(a){return svgtk.getUrlAnchor(svgtk.getStyleAttribute(a,
"marker-end"))},getPointerEvents:function(a){return svgtk.getStyleAttribute(a,"pointer-events")},getFilter:function(a){return svgtk.getStyleMemberAttribute(a,"filter")},getFilterId:function(a){return svgtk.getUrlAnchor(svgtk.getFilter(a))},getStartOffset:function(a){return svgtk.getStyleAttribute(a,"startOffset")},getStopColor:function(a){return svgtk.getStyleAttribute(a,"stop-color")},getStopOpacity:function(a){return svgtk.getStyleAttribute(a,"stop-opacity")},getStroke:function(a){return svgtk.getStyleMemberAttribute(a,
"stroke")},getStrokeDash:function(a){return svgtk.getStyleAttribute(a,"stroke-dasharray")},getStrokeDashOffset:function(a){return svgtk.getStyleAttribute(a,"stroke-dashoffset")},getStrokeGrd:function(a){return svgtk.getUrlAnchor(svgtk.getStroke(a))},getStrokeLinecap:function(a){return svgtk.getStyleAttribute(a,"stroke-linecap")},getStrokeLinejoin:function(a){return svgtk.getStyleAttribute(a,"stroke-linejoin")},getStrokeMiterLimit:function(a){return svgtk.getStyleAttribute(a,"stroke-miterlimit")},
getStrokeOpacity:function(a){return svgtk.getStyleAttribute(a,"stroke-opacity")},getStrokeWidth:function(a){return svgtk.getStyleAttribute(a,"stroke-width")},getStyle:function(a){return svgtk.getA(a,"style")},getTransform:function(a){return svgtk.getA(a,"transform")},getVisibility:function(a){return svgtk.getStyleAttribute(a,"visibility")},getUrlAnchor:function(a){if(null!=a&&"url("==a.substr(0,4)&&-1!=a.indexOf("#")&&-1!=a.indexOf(")")){a=a.substring(a.indexOf("#")+1,a.indexOf(")"));if("'"==a.charAt(a.length-
1)||'"'==a.charAt(a.length-1))a=a.substr(0,a.length-1);return a}return null},show:function(a){return svgtk.setVisibility(a,"visible")},hide:function(a){return svgtk.setVisibility(a,"hidden")},isVisible:function(a){a=svgtk.getVisibility(a);return null==a||"visible"==a},setVisible:function(a,b){return svgtk.setVisibility(a,1==b?"visible":"hidden")},zapClassName:function(a,b,c){return svgtk.getClass(a).replace(b,c)},zapClassNameSuffix:function(a,b){a=svgtk.getClass(a);return a.substring(0,a.length-1)+
b},getClassSuffix:function(a){a=svgtk.getClass(a);return null==a?null:a.charAt(a.length-1)},setClassSuffix:function(a,b){return svgtk.setClass(a,svgtk.zapClassNameSuffix(a,b))},addListener:function(a,b,c){a.addEventListener(b,c,!1);return a},removeListener:function(a,b,c){a.removeEventListener(b,c,!1);return a},getA:function(a,b){return a.getAttribute(b)},getF:function(a,b){a=svgtk.getA(a,b);return null==a||""==a?0:parseFloat(a)},getClass:function(a){return svgtk.getA(a,"class")},getHeight:function(a){return svgtk.getF(a,
"height")},getX:function(a){return svgtk.getF(a,"x")},getY:function(a){return svgtk.getF(a,"y")},getX1:function(a){return svgtk.getF(a,"x1")},getY1:function(a){return svgtk.getF(a,"y1")},getX2:function(a){return svgtk.getF(a,"x2")},getY2:function(a){return svgtk.getF(a,"y2")},getWidth:function(a){return svgtk.getF(a,"width")},appendChild:function(a,b){return a.appendChild(a.ownerDocument.createElementNS(svgtk.NS,b))},find:function(a){return document.getElementById(a)},firstChildElement:function(a){for(a=
a.firstChild;null!=a;a=a.nextSibling)if(a.tagName)return a;return null},get:function(a){var b=svgtk.find(a);if(null==b)throw"Element '"+a+"' not found";return b},findFirstChild:function(a,b){for(a=a.firstChild;null!=a;a=a.nextSibling)if(a.tagName&&a.tagName==b)return a;return null},getFirstChild:function(a,b){for(var c=a.firstChild;null!=c;c=c.nextSibling)if(c.tagName&&c.tagName==b)return c;throw"getFirstChild ("+a+"(id="+a.id+"),"+b+"), element not found";},findChildElementIndex:function(a,b){a=
a.firstChild;for(var c=0;null!=a;a=a.nextSibling)if(a.tagName){if(a==b)return c;c++}return-1},findChildElement:function(a,b){a=a.firstChild;for(var c=0;null!=a;a=a.nextSibling)if(a.tagName){if(b==c)return a;c++}return null},findTreeElementIndex:function(a,b){var c=a;a=0;for(var d=null;null!=c;c=null==d?null:d.pop())for(c=c.firstChild;null!=c;c=c.nextSibling)if(c.tagName){if(c==b)return a;a++;null==d&&(d=[]);d.push(c)}return-1},findTreeElement:function(a,b){var c=a;a=0;for(var d=null;null!=c;c=null==
d?null:d.pop())for(c=c.firstChild;null!=c;c=c.nextSibling)if(c.tagName){if(b==a)return c;a++;null==d&&(d=[]);d.push(c)}return null},visitTree:function(a,b){var c=0,d=a;for(a=null;null!=d;d=null==a?null:a.pop())for(d=d.firstChild;null!=d;d=d.nextSibling)d.tagName&&(null!=b&&b(c,d),c++,null==a&&(a=[]),a.push(d));return c},visitChildren:function(a,b){var c=0;for(a=a.firstChild;null!=a;a=a.nextSibling)a.tagName&&(null!=b&&b(c,a),c++);return c},getLastChild:function(a,b){for(var c=a.lastChild;null!=c;c=
c.previousSibling)if(c.tagName&&c.tagName==b)return c;throw"getLastChild ("+a+","+b+"), element not found";},nextSiblingElement:function(a){for(a=a.nextSibling;null!=a;a=a.nextSibling)if(a.tagName)return a;return null},findNextSibling:function(a,b){for(a=a.nextSibling;null!=a;a=a.nextSibling)if(a.tagName&&a.tagName==b)return a;return null},getNextSibling:function(a,b){for(var c=a.nextSibling;null!=c;c=c.nextSibling)if(c.tagName&&c.tagName==b)return c;throw"getNextSibling ("+a+","+b+"), element not found";
},findPreviousSibling:function(a,b){for(a=a.previousSibling;null!=a;a=a.previousSibling)if(a.tagName&&a.tagName==b)return a;return null},getPreviousSibling:function(a,b){for(var c=a.previousSibling;null!=c;c=c.previousSibling)if(c.tagName&&c.tagName==b)return c;throw"getPreviousSibling ("+a+","+b+"), element not found";},getPreviousSiblingElement:function(a){for(var b=a.previousSibling;null!=b;b=b.previousSibling)if(b.tagName)return b;throw"getPreviousSibling ("+a+"), element not found";},findPreviousSiblingElement:function(a){for(a=
a.previousSibling;null!=a;a=a.previousSibling)if(a.tagName)return a;return null},removeFromParent:function(a){return a.parentNode.removeChild(a)},removeChildren:function(a){for(;null!=a.firstChild;)a.removeChild(a.firstChild)},getFirstChildElement:function(a){for(var b=a.firstChild;null!=b;b=b.nextSibling)if(b.tagName)return b;throw"getFirstChildElement ("+a+"), child element not found";},getNextSiblingElement:function(a){for(var b=a.nextSibling;null!=b;b=b.nextSibling)if(b.tagName)return b;throw"getNextSibling ("+
a+"), element not found";},getChildCount:function(a,b){var c=0;for(a=a.firstChild;null!=a;a=a.nextSibling)!a.tagName||null!=b&&a.tagName!=b||c++;return c},getRefX:function(a){return svgtk.getF(a,"refX")},getRefY:function(a){return svgtk.getF(a,"refY")},setTextData:function(a,b){null==a.firstChild||null==a.firstChild.data?a.appendChild(document.createTextNode(b)):a.firstChild.data=b;return a},getTextData:function(a){return null==a.firstChild?null:a.firstChild.data},getTextDataLength:function(a){return null==
a.firstChild?0:a.firstChild.data.length},appendTextTspan:function(a,b){a=svgtk.appendChild(a,"text");svgtk.appendChild(a,"tspan").appendChild(document.createTextNode(b));return a},appendRect:function(a,b,c,d,e){return svgtk.setX(svgtk.setY(svgtk.setWidth(svgtk.setHeight(svgtk.appendChild(a,"rect"),e),d),c),b)},getPix2SvgScale:function(a){a=a.getScreenCTM().inverse();return svgtk.hypot(a.a,a.d)/Math.SQRT2},getRoot:function(a){if(null==a)throw"svgtk.getRoot node is null";if(null==a.ownerDocument)throw"svgtk.getRoot node.ownerDocument is null";
if("undefined"!=typeof a.ownerDocument.rootElement&&null!=a.ownerDocument.rootElement)return a.ownerDocument.rootElement;if(null==a.ownerSVGElement){if("svg"==a.tagName)return a;for(var b=null,c=a.parentNode;null!=c;c=c.parentNode)"svg"==c.tagName&&(b=c);if(null!=b)return b;throw"svgtk.getRoot unexpected node "+a+" "+typeof a.ownerSVGElement+" tag '"+a.tagName+"' should be'svg'";}for(a=a.ownerSVGElement;null!=a.ownerSVGElement;)a=a.ownerSVGElement;if("svg"==a.tagName)return a;throw"svgtk.getRoot unexpected node "+
a+" tag '"+a.tagName+"' should be 'svg'";},alignValues:"none xMinYMin xMidYMin xMaxYMin xMinYMid xMidYMid xMaxYMid xMinYMax xMidYMax xMaxYMax".split(" "),alignStringValueToIntValue:function(a){a=a.toUpperCase();for(var b=0;b<svgtk.alignValues.length;b++)if(svgtk.alignValues[b].toUpperCase()==a)return b+1;return 0},alignIntValueToStringValue:function(a){a=parseInt(a,10);return 1<=a&&a<=svgtk.alignValues.length?svgtk.alignValues[a-1]:""},meetStringValueToIntValue:function(a){a=a.toUpperCase();return"MEET"==
a?1:"SLICE"==a?2:0},meetIntValueToStringValue:function(a){switch(parseInt(a,10)){case 1:return"meet";case 2:return"slice";default:return""}},getSVGIncludedMatrix:function(a){var b=parseFloat(a.getAttribute("x")),c=parseFloat(a.getAttribute("y")),d=a.width.baseVal.value,e=a.height.baseVal.value,f=a.viewBox.baseVal;0==f.width&&(f.width=d);0==f.height&&(f.height=e);var g=f.width/f.height,h=a.preserveAspectRatio.baseVal.align,k=a.preserveAspectRatio.baseVal.meetOrSlice==SVGPreserveAspectRatio.SVG_MEETORSLICE_MEET;
a=a.createSVGMatrix();var l=d/e;a=a.translate(b,c);if(h==SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_NONE)a=a.scale(d/f.width,e/f.height),a=a.translate(-f.x,-f.y);else if(g<l&&k||g>=l&&!k)switch(b=e/f.height,a=a.scale(b,b),h){case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMIN:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMID:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMAX:a=a.translate(-f.x,-f.y);break;case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMIN:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMID:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMAX:a=
a.translate(-f.x-(f.width-d*f.height/e)/2,-f.y);break;default:a.translate(-f.x-(f.width-d*f.height/e),-f.y)}else switch(b=d/f.width,a=a.scale(b,b),h){case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMIN:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMIN:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMAXYMIN:a=a.translate(-f.x,-f.y);break;case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMID:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMID:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMAXYMID:a=
a.translate(-f.x,-f.y-(f.height-e*f.width/d)/2);break;default:a=a.translate(-f.x,-f.y-(f.height-e*f.width/d))}return a},getTransformToElement:function(a,b){if(svgtk.testAgentFireFox)return a.getTransformToElement?a.getTransformToElement(b):b.getScreenCTM().inverse().multiply(a.getScreenCTM());for(var c=a,d="svg"==a.tagName;!d&&(c=c.parentNode)!=b;)c.tagName&&"svg"==c.tagName&&(d=!0);if(0==d)return a.getTransformToElement?a.getTransformToElement(b):b.getScreenCTM().inverse().multiply(a.getScreenCTM());
for(c=svgtk.getTransformMatrix(a);(a=a.parentNode)!=b;)a.tagName&&(c="svg"==a.tagName?c.multiply(svgtk.getSVGIncludedMatrix(a)):svgtk.getTransformMatrix(a).multiply(c));return c},getTransformToDocument:function(a){return svgtk.getTransformToElement(a,svgtk.getRoot(a))},getTransformToDocumentScreenCTM:function(a){for(var b=a.getScreenCTM();(a=a.parentNode)!=document;)b=a.getScreenCTM().multiply(b);return b},translateElement:function(a,b,c){b=svgtk.getRoot(a).createSVGMatrix().translate(b,c);return svgtk.transformElement(a,
b)},scaleElement:function(a,b){b=svgtk.getRoot(a).createSVGMatrix().scale(b);return svgtk.transformElement(a,b)},rotateElement:function(a,b){b=svgtk.getRoot(a).createSVGMatrix().rotate(b);return svgtk.transformElement(a,b)},transformElement:function(a,b){var c=a.transform.baseVal;0!=c.numberOfItems?(c.insertItemBefore(c.createSVGTransformFromMatrix(b),0),c.consolidate()):c.initialize(c.createSVGTransformFromMatrix(b));return a},setTransformTranslate:function(a,b,c){b=svgtk.getRoot(a).createSVGMatrix().translate(b,
c);svgtk.setTransformMatrix(a,b);return a},setTransformScale:function(a,b){return svgtk.setTransformMatrix(a,svgtk.getRoot(a).createSVGMatrix().scale(b))},setTransformRotate:function(a,b){b=svgtk.getRoot(a).createSVGMatrix().rotate(b);svgtk.setTransformMatrix(a,b);return a},setTransformMatrix:function(a,b){var c=a.transform.baseVal;b=c.createSVGTransformFromMatrix(b);c.initialize(b);return a},getTransformMatrix:function(a){var b=a.transform.baseVal,c=b.numberOfItems;if(0!=c){a=b.getItem(c-1).matrix;
for(--c;0!=c;c--)a=b.getItem(c-1).matrix.multiply(a);return a}return svgtk.getRoot(a).createSVGMatrix()},getSVGIncludedRect:function(a){var b=a.createSVGRect();b.x=a.x.baseVal.value;b.y=a.y.baseVal.value;b.width=a.width.baseVal.value;b.height=a.height.baseVal.value;return b},setSVGPoint:function(a,b){a.x=b.x;a.y=b.y;return a},transformPoint:function(a,b){return a.matrixTransform(b)},setSVGRect:function(a,b){a.x=b.x;a.y=b.y;a.width=b.width;a.height=b.height;return a},copySVGRect:function(a,b){a=a.createSVGRect();
a.x=b.x;a.y=b.y;a.width=b.width;a.height=b.height;return a},setSVGRectCenter:function(a,b,c){a.x=b-a.width/2;a.y=c-a.height/2;return a},getViewBoxRect:function(a){return a.viewBox.baseVal},inflateSVGRect:function(a,b,c,d){a=a.createSVGRect();a.x=b.x-c/2;a.y=b.y-d/2;a.width=b.width+c;a.height=b.height+d;return a},translateSVGRect:function(a,b,c,d){a=a.createSVGRect();a.x=b.x+c;a.y=b.y+d;a.width=b.width;a.height=b.height;return a},scaleSVGRectByCenter:function(a,b,c,d){return svgtk.inflateSVGRect(a,
b,b.width*(c-1),b.height*(d-1))},setValueInSpecifiedUnits:function(a,b){a.valueInSpecifiedUnits=b},hasStyleProperty:function(a,b){return null!=svgtk.getStylePropertyValue(a,b)},setPtyLength:function(a,b,c){if(null==c||/[a-z]*/.test(c))return svgtk.setStyleAttribute(a,b,c);svgtk.removeStyleProperty(a,b);return svgtk.setA(a,b,c)},getStyleMember:function(a,b){a=svgtk.getStyle(a);if(null!=a&&""!=a){var c=a.indexOf(b+":",0);if(-1!=c)return b=a.indexOf(":",c),c=a.indexOf(";",c),-1!=c?a.substring(b+1,c).trim():
a.substring(b+1,a.length).trim()}return null},setStyleMember:function(a,b,c){var d=svgtk.getStyle(a);if(null!=d&&""!=d){var e=d.indexOf(b+":",0);return-1!=e?(b=d.indexOf(":",e),e=d.indexOf(";",e),-1!=e?svgtk.setStyle(a,d.substring(0,b+1)+c+d.substring(e,d.length)):svgtk.setStyle(a,d.substring(0,b+1)+c+";")):svgtk.setA(a,"style",b+":"+c+";"+d)}return svgtk.setA(a,"style",b+":"+c+";")},removeStyleProperty:function(a,b){a.style.removeProperty(b);return a},getStyleAttribute:function(a,b){var c=null;a.hasAttribute(b)&&
(c=svgtk.getA(a,b));null==c&&(c=svgtk.getStylePropertyValue(a,b));return c},getStylePropertyValue:function(a,b){a=a.style.getPropertyValue(b);return null!=a&&0!=a.length?a:null},setStyleAttribute:function(a,b,c){if(a.hasAttribute(b))return a.style.removeProperty(b),svgtk.setA(a,b,c);a.style.setProperty(b,c,null);return a},getStyleMemberAttribute:function(a,b){var c=null;a.hasAttribute(b)&&(c=svgtk.getA(a,b));null==c&&(c=svgtk.getStyleMember(a,b));return c},setStyleMemberAttribute:function(a,b,c){return a.hasAttribute(b)?
(a.style.removeProperty(b),svgtk.setA(a,b,c)):svgtk.setStyleMember(a,b,c)},setStyleProperty:function(a,b,c){a.hasAttribute(b)&&svgtk.removeA(a,b);a.style.setProperty(b,c,null);return a},removeStyleAttribute:function(a,b){a.style.removeProperty(b);a.hasAttribute(b)&&svgtk.removeA(a,b);return a},setVisibility:function(a,b){return svgtk.setStyleProperty(a,"visibility",b)},checkDashValue:function(a){return/^[0-9]+(.[0-9]*)?(em|ex|px|in|cm|mm|pt|pc|%)?(s*,s*[0-9]+(.[0-9]*)?(em|ex|px|in|cm|mm|pt|pc|%)?)*$/g.test(a)},
checkLengthValue:function(a){return/^[0-9]+(.[0-9]*)?(em|ex|px|in|cm|mm|pt|pc|%)?$/g.test(a)},checkPositiveFloatValue:function(a){return/^\s*(\+)?((\d+(\.\d+)?)|(\.\d+))\s*$/.test(a)},checkFloatValue:function(a){return/^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$/.test(a)},getPathSegList:function(a){return"undefined"!=typeof a.pathSegList?a.pathSegList:"function"==typeof a.thePathSegList?a.thePathSegList():"function"==typeof window.createPathSegList?window.createPathSegList(a):a.pathSegList},createSVGPathSegArcAbs:function(a,
b,c,d,e,f,g,h){return"undefined"!=typeof a.createSVGPathSegArcAbs?a.createSVGPathSegArcAbs(b,c,d,e,f,g,h):"function"==typeof window.createSVGPathSegArcAbs?window.createSVGPathSegArcAbs(b,c,d,e,f,g,h):a.createSVGPathSegArcAbs(b,c,d,e,f,g,h)},createSVGPathSegArcRel:function(a,b,c,d,e,f,g,h){return"undefined"==typeof a.createSVGPathSegArcRel&&"function"==typeof window.createSVGPathSegArcRel?window.createSVGPathSegArcRel(b,c,d,e,f,g,h):a.createSVGPathSegArcRel(b,c,d,e,f,g,h)},createSVGPathSegClosePath:function(a){return"undefined"!=
typeof a.createSVGPathSegClosePath?a.createSVGPathSegClosePath():"function"==typeof window.createSVGPathSegClosePath?window.createSVGPathSegClosePath():a.createSVGPathSegClosePath()},createSVGPathSegCurvetoCubicAbs:function(a,b,c,d,e,f,g){return"undefined"!=typeof a.createSVGPathSegCurvetoCubicAbs?a.createSVGPathSegCurvetoCubicAbs(b,c,d,e,f,g):"function"==typeof window.createSVGPathSegCurvetoCubicAbs?window.createSVGPathSegCurvetoCubicAbs(b,c,d,e,f,g):a.createSVGPathSegCurvetoCubicAbs(b,c,d,e,f,g)},
createSVGPathSegCurvetoCubicRel:function(a,b,c,d,e,f,g){return"undefined"!=typeof a.createSVGPathSegCurvetoCubicRel?a.createSVGPathSegCurvetoCubicRel(b,c,d,e,f,g):"function"==typeof window.createSVGPathSegCurvetoCubicRel?window.createSVGPathSegCurvetoCubicRel(b,c,d,e,f,g):a.createSVGPathSegCurvetoCubicRel(b,c,d,e,f,g)},createSVGPathSegCurvetoCubicSmoothAbs:function(a,b,c,d,e){return"undefined"!=typeof a.createSVGPathSegCurvetoCubicSmoothAbs?a.createSVGPathSegCurvetoCubicSmoothAbs(b,c,d,e):"function"==
typeof window.createSVGPathSegCurvetoCubicSmoothAbs?window.createSVGPathSegCurvetoCubicSmoothAbs(b,c,d,e):a.createSVGPathSegCurvetoCubicSmoothAbs(b,c,d,e)},createSVGPathSegCurvetoCubicSmoothRel:function(a,b,c,d,e){return"undefined"!=typeof a.createSVGPathSegCurvetoCubicSmoothRel?a.createSVGPathSegCurvetoCubicSmoothRel(b,c,d,e):"function"==typeof window.createSVGPathSegCurvetoCubicSmoothRel?window.createSVGPathSegCurvetoCubicSmoothRel(b,c,d,e):a.createSVGPathSegCurvetoCubicSmoothRel(b,c,d,e)},createSVGPathSegCurvetoQuadraticAbs:function(a,
b,c,d,e){return"undefined"!=typeof a.createSVGPathSegCurvetoQuadraticAbs?a.createSVGPathSegCurvetoQuadraticAbs(b,c,d,e):"function"==typeof window.createSVGPathSegCurvetoQuadraticAbs?window.createSVGPathSegCurvetoQuadraticAbs(b,c,d,e):a.createSVGPathSegCurvetoQuadraticAbs(b,c,d,e)},createSVGPathSegCurvetoQuadraticRel:function(a,b,c,d,e){return"undefined"!=typeof a.createSVGPathSegCurvetoQuadraticRel?a.createSVGPathSegCurvetoQuadraticRel(b,c,d,e):"function"==typeof window.createSVGPathSegCurvetoQuadraticRel?
window.createSVGPathSegCurvetoQuadraticRel(b,c,d,e):a.createSVGPathSegCurvetoQuadraticRel(b,c,d,e)},createSVGPathSegCurvetoQuadraticSmoothAbs:function(a,b,c){return"undefined"!=typeof a.createSVGPathSegCurvetoQuadraticSmoothAbs?a.createSVGPathSegCurvetoQuadraticSmoothAbs(b,c):"function"==typeof window.createSVGPathSegCurvetoQuadraticSmoothAbs?window.createSVGPathSegCurvetoQuadraticSmoothAbs(b,c):a.createSVGPathSegCurvetoQuadraticSmoothAbs(b,c)},createSVGPathSegCurvetoQuadraticSmoothRel:function(a,
b,c){return"undefined"!=typeof a.createSVGPathSegCurvetoQuadraticSmoothRel?a.createSVGPathSegCurvetoQuadraticSmoothRel(b,c):"function"==typeof window.createSVGPathSegCurvetoQuadraticSmoothRel?window.createSVGPathSegCurvetoQuadraticSmoothRel(b,c):a.createSVGPathSegCurvetoQuadraticSmoothRel(b,c)},createSVGPathSegLinetoAbs:function(a,b,c){return"undefined"!=typeof a.createSVGPathSegLinetoAbs?a.createSVGPathSegLinetoAbs(b,c):"function"==typeof window.createSVGPathSegLinetoAbs?window.createSVGPathSegLinetoAbs(b,
c):a.createSVGPathSegLinetoAbs(b,c)},createSVGPathSegLinetoRel:function(a,b,c){return"undefined"!=typeof a.createSVGPathSegLinetoRel?a.createSVGPathSegLinetoRel(b,c):"function"==typeof window.createSVGPathSegLinetoRel?window.createSVGPathSegLinetoRel(b,c):a.createSVGPathSegLinetoRel(b,c)},createSVGPathSegLinetoHorizontalAbs:function(a,b){return"undefined"!=typeof a.createSVGPathSegLinetoHorizontalAbs?a.createSVGPathSegLinetoHorizontalAbs(b):"function"==typeof window.createSVGPathSegLinetoHorizontalAbs?
window.createSVGPathSegLinetoHorizontalAbs(b):a.createSVGPathSegLinetoHorizontalAbs(b)},createSVGPathSegLinetoHorizontalRel:function(a,b){return"undefined"!=typeof a.createSVGPathSegLinetoHorizontalRel?a.createSVGPathSegLinetoHorizontalRel(b):"function"==typeof window.createSVGPathSegLinetoHorizontalRel?window.createSVGPathSegLinetoHorizontalRel(b):a.createSVGPathSegLinetoHorizontalRel(b)},createSVGPathSegLinetoVerticalAbs:function(a,b){return"undefined"!=typeof a.createSVGPathSegLinetoVerticalAbs?
a.createSVGPathSegLinetoVerticalAbs(b):"function"==typeof window.createSVGPathSegLinetoVerticalAbs?window.createSVGPathSegLinetoVerticalAbs(b):a.createSVGPathSegLinetoVerticalAbs(b)},createSVGPathSegLinetoVerticalRel:function(a,b){return"undefined"!=typeof a.createSVGPathSegLinetoVerticalRel?a.createSVGPathSegLinetoVerticalRel(b):"function"==typeof window.createSVGPathSegLinetoVerticalRel?window.createSVGPathSegLinetoVerticalRel(b):a.createSVGPathSegLinetoVerticalRel(b)},createSVGPathSegMovetoAbs:function(a,
b,c){return"undefined"!=typeof a.createSVGPathSegMovetoAbs?a.createSVGPathSegMovetoAbs(b,c):"function"==typeof window.createSVGPathSegMovetoAbs?window.createSVGPathSegMovetoAbs(b,c):a.createSVGPathSegMovetoAbs(b,c)},createSVGPathSegMovetoRel:function(a,b,c){return"undefined"!=typeof a.createSVGPathSegMovetoRel?a.createSVGPathSegMovetoRel(b,c):"function"==typeof window.createSVGPathSegMovetoRel?window.createSVGPathSegMovetoRel(b,c):a.createSVGPathSegMovetoRel(b,c)},array:{}};
svgtk.array.contains=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return!0;return!1};svgtk.array.removeItem=function(a,b){for(var c=0;c<a.length;c++)if(a[c]==b)return a.splice(c,1),!0;return!1};svgtk.colorRgb2Hex=function(a,b,c){a=svgtk.dec2hex((a<<16)+(b<<8)+c);b="";for(c=a.length;6>c;c++)b="0"+b;return"#"+b+a};svgtk.dec2hex=function(a){for(var b="";15<a;)b="0123456789ABCDEF".charAt(a-16*Math.floor(a/16))+b,a=Math.floor(a/16);return b="0123456789ABCDEF".charAt(a)+b};
svgtk.isNamedColor=function(a){return svgtk.colors[a]?!0:!1};svgtk.isHexColor=function(a){return null!=a&&"#"==a.charAt(0)&&7==a.length};svgtk.isRgbColor=function(a){return null!=a&&0==a.indexOf("rgb(")?(a=/(.*?)rgb\([ ]*(\d+)[ ]*,[ ]*(\d+)[ ]*,[ ]*(\d+)[ ]*\)/.exec(a),null!=a&&5==a.length):!1};svgtk.parseRgbColor=function(a){a=/(.*?)rgb\([ ]*(\d+)[ ]*,[ ]*(\d+)[ ]*,[ ]*(\d+)[ ]*\)/.exec(a);return{r:parseInt(a[2],10),g:parseInt(a[3],10),b:parseInt(a[4],10)}};
svgtk.colorHexToR=function(a){return parseInt(svgtk.cutHex(a).substring(0,2),16)};svgtk.colorHexToG=function(a){return parseInt(svgtk.cutHex(a).substring(2,4),16)};svgtk.colorHexToB=function(a){return parseInt(svgtk.cutHex(a).substring(4,6),16)};svgtk.cutHex=function(a){return"#"==a.charAt(0)?a.substring(1,7):a};svgtk.colorHsv2Hex=function(a,b,c){a=svgtk.hsv2rgb(a,b,c);return svgtk.colorRgb2Hex(a.r,a.g,a.b)};
svgtk.hsv2rgb=function(a,b,c){var d={r:0,g:0,b:0};if(0==b)d.r=Math.round(255*c),d.g=Math.round(255*c),d.b=Math.round(255*c);else{var e=a/60;a=Math.floor(e);var f=e-a;0==a%2&&(f=1-f);e=c*(1-b);b=c*(1-b*f);switch(a){case 0:d.r=c;d.g=b;d.b=e;break;case 1:d.r=b;d.g=c;d.b=e;break;case 2:d.r=e;d.g=c;d.b=b;break;case 3:d.r=e;d.g=b;d.b=c;break;case 4:d.r=b;d.g=e;d.b=c;break;case 5:d.r=c;d.g=e;d.b=b;break;case 6:d.r=c,d.g=b,d.b=e}d.r=Math.round(255*d.r);d.g=Math.round(255*d.g);d.b=Math.round(255*d.b)}return d};
svgtk.rgb2hsv=function(a,b,c){a/=255;b/=255;c/=255;var d=Math.min(a,Math.min(b,c)),e=Math.max(a,Math.max(b,c));return d==e?{h:0,s:0,v:d}:{h:60*((a==d?3:c==d?1:5)-(a==d?b-c:c==d?a-b:c-a)/(e-d)),s:(e-d)/e,v:e}};
svgtk.colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};svgtk.addListener=function(a,b,c){a.addEventListener(b,c,{capture:!1});return a};
svgtk.removeListener=function(a,b,c){a.removeEventListener(b,c,!1);return a};svgtk.addMouseWheelListener=function(a,b){var c=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";a.addEventListener(c,b,{passive:!0});return a};svgtk.stopEvent=function(a){a.stopPropagation();a.preventDefault()};svgtk.testAgentFireFox=/Firefox/i.test(navigator.userAgent);svgtk.removeMouseWheelListener=function(a,b){return svgtk.removeListener(a,svgtk.testAgentFireFox?"DOMMouseScroll":"mousewheel",b)};
svgtk.getMouseWheelEventDelta=function(a){return Math.max(-1,Math.min(1,a.wheelDelta||-a.detail))};svgtk.isTouchSupported="ontouchstart"in window;
svgtk.touchAdaptHandlers=function(a){for(var b=0,c=a.firstChild;null!=c;c=c.nextSibling)c.tagName&&!c.hasAttribute("ontouchstart")&&(c.hasAttribute("onclick")?(svgtk.removeA(svgtk.setA(c,"ontouchstart",svgtk.getA(c,"onclick")),"onclick"),b++):c.hasAttribute("onmousedown")&&(svgtk.removeA(svgtk.setA(c,"ontouchstart",svgtk.getA(c,"onmousedown")),"onmousedown"),b++));for(a=a.firstChild;null!=a;a=a.nextSibling)a.tagName&&(b+=svgtk.touchAdaptHandlers(a));return b};
svgtk.numberFixDigit=function(a,b){var c=Math.pow(10,b);return(Math.round(a*c)/c).toFixed(b)};svgtk.checkTypeOfMember=function(a,b){try{return"undefined"!=typeof a[b]}catch(c){return!1}};svgtk.callWindowParentFunction=function(a){if(svgtk.checkTypeOfMember(window.parent,a))window.parent[a]();else if(svgtk.checkTypeOfMember(window,a))window[a]()};svgtk.callWindowParentFunction1=function(a,b){if(svgtk.checkTypeOfMember(window.parent,a))window.parent[a](b);else if(svgtk.checkTypeOfMember(window,a))window[a](b)};
svgtk.callWindowParentFunction2=function(a,b,c){if(svgtk.checkTypeOfMember(window.parent,a))window.parent[a](b,c);else if(svgtk.checkTypeOfMember(window,a))window[a](b,c)};svgtk.hypot=function(a,b){return Math.sqrt(a*b+b*b)};svgtk.messages={en:{},fr:{}};svgtk.local="en";
var SVGPreserveAspectRatio={SVG_PRESERVEASPECTRATIO_UNKNOWN:0,SVG_PRESERVEASPECTRATIO_NONE:1,SVG_PRESERVEASPECTRATIO_XMINYMIN:2,SVG_PRESERVEASPECTRATIO_XMIDYMIN:3,SVG_PRESERVEASPECTRATIO_XMAXYMIN:4,SVG_PRESERVEASPECTRATIO_XMINYMID:5,SVG_PRESERVEASPECTRATIO_XMIDYMID:6,SVG_PRESERVEASPECTRATIO_XMAXYMID:7,SVG_PRESERVEASPECTRATIO_XMINYMAX:8,SVG_PRESERVEASPECTRATIO_XMIDYMAX:9,SVG_PRESERVEASPECTRATIO_XMAXYMAX:10,SVG_MEETORSLICE_UNKNOWN:0,SVG_MEETORSLICE_MEET:1,SVG_MEETORSLICE_SLICE:2};var svgctrl={};svgctrl.MovingCtrl=function(){this.digit=1;this.touch=!1;this.enabled=!0;this.movingCB=this.moving.bind(this);this.downCB=this.downTarget=this.upCB=null;this.onMovingCB=this.onMoving.bind(this);this.onBarUpCB=this.onBarUp.bind(this);this.onTouchMoveCB=this.onTouchMove.bind(this);this.onTouchStartMovingCB=this.onTouchStartMoving.bind(this);this.onStartMovingCB=this.onStartMoving.bind(this);this.root=null};svgctrl.MovingCtrl.prototype.init=function(a){this.g=a;this.root=svgtk.getRoot(a);return this};
svgctrl.MovingCtrl.prototype.initTarget=function(a,b,c,d){this.g=a;this.root=svgtk.getRoot(a);null!==c&&(this.movingCB=c);this.upCB=d;return this.setDownTarget(a,b)};svgctrl.MovingCtrl.prototype.setMovingCB=function(a){this.movingCB=a;return this};
svgctrl.MovingCtrl.prototype.setDownTarget=function(a,b){null!==this.downTarget&&(1==svgtk.isTouchSupported?svgtk.removeListener(this.downTarget,"touchstart",this.onTouchStartMovingCB):svgtk.removeListener(this.downTarget,"mousedown",this.onStartMovingCB));this.downTarget=a;null!==b&&(this.downCB=b);1==svgtk.isTouchSupported?svgtk.addListener(a,"touchstart",this.onTouchStartMovingCB):svgtk.addListener(a,"mousedown",this.onStartMovingCB);return this};
svgctrl.MovingCtrl.prototype.setUpCB=function(a){this.upCB=a;return this};
svgctrl.MovingCtrl.prototype.initMoving=function(a,b,c,d){this.fw2svg=svgtk.getPix2SvgScale(this.g);this.digit=0;for(var e=1;e>this.fw2svg;e/=10)this.digit+=1;this.ex=b;this.ey=c;this.touch=d;null!=this.downCB&&this.downCB(a,b,c);1==d?svgtk.addListener(svgtk.addListener(svgtk.addListener(this.root,"touchmove",this.onTouchMoveCB),"touchend",this.onBarUpCB),"touchcancel",this.onBarUpCB):svgtk.addListener(svgtk.addListener(this.root,"mousemove",this.onMovingCB),"mouseup",this.onBarUpCB)};
svgctrl.MovingCtrl.prototype.onStartMoving=function(a){try{a.preventDefault(),this.enabled&&this.initMoving(a,a.clientX,a.clientY,!1)}catch(b){alert("svgctrl.MovingCtrl.onStartMoving "+b)}};svgctrl.MovingCtrl.prototype.moving=function(a,b){svgtk.translateElement(this.g,a,b)};svgctrl.MovingCtrl.prototype.movingXy=function(a,b){var c=(a-this.ex)*this.fw2svg,d=(b-this.ey)*this.fw2svg;this.ex=a;this.ey=b;this.movingCB(c,d,a,b)};
svgctrl.MovingCtrl.prototype.onMoving=function(a){try{this.movingXy(a.clientX,a.clientY)}catch(b){this.stop(),alert("svgctrl.MovingCtrl.onMoving "+b)}};svgctrl.MovingCtrl.prototype.onBarUp=function(a){this.stop();null!=this.upCB&&this.upCB(a)};
svgctrl.MovingCtrl.prototype.stop=function(){1==this.touch?svgtk.removeListener(svgtk.removeListener(svgtk.removeListener(this.root,"touchmove",this.onTouchMoveCB),"touchend",this.onBarUpCB),"touchcancel",this.onBarUpCB):svgtk.removeListener(svgtk.removeListener(this.root,"mousemove",this.onMovingCB),"mouseup",this.onBarUpCB)};svgctrl.MovingCtrl.prototype.setEnabled=function(a){this.enabled=a};
svgctrl.MovingCtrl.prototype.onTouchStartMoving=function(a){try{if(a.preventDefault(),this.enabled){var b=a.touches.item(0);this.initMoving(a,b.clientX,b.clientY,!0)}}catch(c){alert("svgctrl.MovingCtrl.onTouchStartMoving "+c)}};svgctrl.MovingCtrl.prototype.onTouchMove=function(a){try{a.preventDefault();var b=a.touches.item(0);this.movingXy(b.clientX,b.clientY)}catch(c){this.stop()}};svgctrl.NumberLabel=function(){};svgctrl.NumberLabel.prototype.text=null;svgctrl.NumberLabel.prototype.value=0;svgctrl.NumberLabel.prototype.visibleDigitCount=1;svgctrl.NumberLabel.prototype.init=function(a){this.text=a;this.value=parseFloat(svgtk.getTextData(this.text));return this};svgctrl.NumberLabel.prototype.initById=function(a){this.init(svgtk.get(a));return this};svgctrl.NumberLabel.prototype.setDigit=function(a){this.visibleDigitCount=a;return this};
svgctrl.NumberLabel.prototype.setDigitWithInterval=function(a,b,c){return this.setDigitWithResolution((b-a)/c)};svgctrl.NumberLabel.prototype.setDigitWithResolution=function(a){var b=1;for(this.visibleDigitCount=0;b>a;)b/=10,this.visibleDigitCount++;return this};svgctrl.NumberLabel.prototype.fixDigit=function(a){return 0>=this.visibleDigitCount?parseInt(a,10):svgtk.numberFixDigit(a,this.visibleDigitCount)};
svgctrl.NumberLabel.prototype.setValue=function(a){this.value=parseFloat(a);svgtk.setTextData(this.text,this.fixDigit(a).toString());return this};svgctrl.NumberLabel.prototype.getValue=function(){return this.value};svgctrl.Slider=function(){this.mrc=new svgctrl.MovingCtrl;this.onIndexMoveCB=this.onIndexMove.bind(this);this.onIndexUpCB=this.onIndexUp.bind(this);this.onMoveCtrlCB=this.onMoveCtrl.bind(this);this.mrc.setMovingCB(this.onMoveCtrlCB);this.mrc.setUpCB(this.onIndexUpCB);this.downCB=null;this.digit=1;this.v1=0;this.v2=10;this.vmin=0;this.vmax=10};svgctrl.Slider.prototype.enabled=!0;svgctrl.Slider.prototype.hz=!0;
svgctrl.Slider.prototype.initByName=function(a,b,c,d,e,f,g,h){this.init(svgtk.get(a+"-bar"),svgtk.get(a+"-index"),svgtk.get(a+"-value"),b,c,d,e,f,g,h);return this};svgctrl.Slider.prototype.initHzByName=function(a,b,c,d,e,f,g){this.init(svgtk.get(a+"-bar"),svgtk.get(a+"-index"),svgtk.get(a+"-value"),!0,b,c,d,f,g,!0);this.downCB=e;return this};
svgctrl.Slider.prototype.init=function(a,b,c,d,e,f,g,h,k,l){this.mrc.init(b);this.bar=a;this.index=b;this.valueText=(new svgctrl.NumberLabel).init(c);this.value=c;this.cbMove=h;this.cbUp=k;this.hz=d;this.len=1==this.hz?this.bar.getBBox().width:this.bar.getBBox().height;this.inside=!0;this.setInterval(e,f,g);this.setValue(this.v1);1==l&&this.mrc.setDownTarget(b,this.initMoving.bind(this));return this};
svgctrl.Slider.prototype.setInterval=function(a,b,c){this.v1=parseFloat(a);this.v2=parseFloat(b);this.vmin=Math.min(this.v1,this.v2);this.vmax=Math.max(this.v1,this.v2);this.digit=c;this.valueText.setDigit(c);return this};svgctrl.Slider.prototype.setEnabled=function(a){a!=this.enabled&&(this.enabled=a,1==a?(this.inside&&svgtk.show(this.index),svgtk.show(this.value)):(svgtk.hide(this.index),svgtk.hide(this.value)));return this};
svgctrl.Slider.prototype.setInside=function(a){a?svgtk.show(this.index):svgtk.hide(this.index);svgtk.show(this.value);this.inside=a;return this};
svgctrl.Slider.prototype.setValue=function(a){this.enabled||this.setEnabled(!0);if(a>=this.vmin&&a<=this.vmax){var b=this.len*(a-this.v1)/(this.v2-this.v1);this.inside||svgtk.show(this.index);svgtk.setTransform(this.index,1==this.hz?"translate("+b+" 0)":"translate(0 "+b+")");0==this.inside&&svgtk.show(this.value);this.inside=!0}else this.inside=!1,svgtk.hide(this.index);this.valueText.setValue(a);return this};svgctrl.Slider.prototype.getValue=function(){return this.valueText.getValue()};
svgctrl.Slider.prototype.onIndexDown0=function(a){try{if(a.preventDefault(),this.enabled){var b=svgtk.getRoot(this.bar);this.fw2svg=svgtk.getPix2SvgScale(this.bar);this.mvC0=1==this.hz?a.clientX:a.clientY;this.mvOo=parseFloat(this.getValue());svgtk.addListener(svgtk.addListener(b,"mousemove",this.onIndexMoveCB),"mouseup",this.onIndexUpCB)}}catch(c){console.log("Slider onIndexDown:"+c)}};
svgctrl.Slider.prototype.initMoving=function(a,b,c){this.fw2svg=svgtk.getPix2SvgScale(this.bar);this.mvC0=1==this.hz?b:c;this.scale=this.fw2svg/this.len*(this.v2-this.v1);this.mvOo=parseFloat(this.getValue());null!=this.downCB&&this.downCB(a,b,c)};svgctrl.Slider.prototype.onIndexDown=function(a){this.initMoving(a,a.clientX,a.clientY);this.mrc.onStartMoving(a)};
svgctrl.Slider.prototype.onMoveCtrl=function(a,b,c,d){a=this.fixDigit(Math.max(this.vmin,Math.min(this.vmax,this.mvOo+((1==this.hz?c:d)-this.mvC0)*this.scale)));null!=this.cbMove?this.cbMove(a):this.setValue(a)};svgctrl.Slider.prototype.fixDigit=function(a){return 0>=this.digit?parseInt(a,10):svgtk.numberFixDigit(parseFloat(a),this.digit)};
svgctrl.Slider.prototype.onIndexMove=function(a){try{var b=this.fixDigit(Math.max(this.vmin,Math.min(this.vmax,this.mvOo+((1==this.hz?a.clientX:a.clientY)-this.mvC0)*this.fw2svg/this.len*(this.v2-this.v1))));null!=this.cbMove?this.cbMove(b):this.setValue(b)}catch(c){a=svgtk.getRoot(this.bar),svgtk.removeListener(svgtk.removeListener(a,"mousemove",this.onIndexMoveCB),"mouseup",this.onIndexUpCB),alert("Slider onIndexMove:"+c)}};
svgctrl.Slider.prototype.onIndexUp=function(a){try{null!=this.cbUp&&this.cbUp(this.getValue())}catch(b){console.log("Slider onIndexUp:"+b)}};svgctrl.Toggle=function(){this.g=this.e=null;return this};svgctrl.Toggle.prototype.init=function(a){this.g=a;this.e=svgtk.nextSiblingElement(svgtk.firstChildElement(this.g));svgtk.setElementRectBox(this.getLabelElement(),0);return this};svgctrl.Toggle.prototype.initByName=function(a){return this.init(svgtk.get(a))};svgctrl.Toggle.prototype.getValue=function(){return-1!=svgtk.getClass(this.e).indexOf("1")};
svgctrl.Toggle.prototype.setValue=function(a){svgtk.setClass(this.e,1==a?svgtk.zapClassName(this.e,"0","1"):svgtk.zapClassName(this.e,"1","0"));return this};svgctrl.Toggle.prototype.invertValue=function(){this.setValue(!this.getValue());return this};svgctrl.Toggle.prototype.getLabelElement=function(){return svgtk.getNextSibling(this.e,"text")};svgctrl.Toggle.prototype.getLabel=function(){return svgtk.getTextData(this.getLabelElement())};
svgctrl.Toggle.prototype.setLabel=function(a){svgtk.setTextData(this.getLabelElement(),a);svgtk.setElementRectBox(this.getLabelElement(),0);return this};svgctrl.Toggle.prototype.setOpacity=function(a){svgtk.setFillOpacity(this.g,a);svgtk.setStrokeOpacity(this.g,a);return this};svgctrl.Toggle.prototype.removeOpacity=function(){svgtk.removeFillOpacity(this.g);svgtk.removeStrokeOpacity(this.g);return this};svgctrl.ToggleGroup=function(){this.l=[];this.enabled=!0;return this};
svgctrl.ToggleGroup.prototype.initByName=function(a){this.init(svgtk.get(a));return this};svgctrl.ToggleGroup.prototype.init=function(a){this.g=a;this.l.splice(0,this.l.length);for(a=this.g.firstChild;null!=a;a=a.nextSibling)a.tagName&&"g"==a.tagName&&this.l.push((new svgctrl.Toggle).init(a));for(a=0;a<this.l.length;a++)if(this.l[a].getValue()){for(a+=1;a<this.l.length;a++)this.l[a].getValue()&&this.l[a].setValue(!1);break}return this};
svgctrl.ToggleGroup.prototype.setEnabled=function(a){this.enabled=1==a;return this};svgctrl.ToggleGroup.prototype.isEnabled=function(){return this.enabled};svgctrl.ToggleGroup.prototype.getSelectedCtrl=function(){for(var a=0;a<this.l.length;a++)if(this.l[a].getValue())return this.l[a];return null};svgctrl.ToggleGroup.prototype.unset=function(){for(var a=0;a<this.l.length;a++)this.l[a].setValue(!1);return this};
svgctrl.ToggleGroup.prototype.findCtrlIndexByLabel=function(a){for(var b=a.toLowerCase(),c=0;c<this.l.length;c++){var d=this.l[c].getLabel();if(d==a||b==d.toLowerCase())return c}return-1};svgctrl.ToggleGroup.prototype.select=function(a){a=this.findCtrlIndexByLabel(a);this.unset();return-1!=a?(this.l[a].setValue(!0),a):-1};svgctrl.ToggleGroup.prototype.getCtrl=function(a){a=this.findCtrlIndexByLabel(a);return-1!=a?this.l[a]:null};
svgctrl.ToggleGroup.prototype.setOpacity=function(a){for(var b=0;b<this.l.length;b++)this.l[b].setOpacity(a);return this};svgctrl.ToggleGroup.prototype.removeOpacity=function(){for(var a=0;a<this.l.length;a++)this.l[a].removeOpacity();return this};svgctrl.TextEdit=function(){this.onKeypressCB=this.onKeypress.bind(this);this.onKeydownCB=this.onKeydown.bind(this);this.enabled=!0;this.focused=!1;this.resetOnClick=!0;this.autoSizeRectFlag=!1;this.rectMargin=0;this.autoSizeMinLengthValue="ABCDEFG";this.scrollable=!1;this.pValue=""};
svgctrl.TextEdit.prototype.init=function(a,b){var c=svgtk.getId(a);this.text=a;this.rect=svgtk.find(c+"-rect");null==this.rect&&(this.rect=svgtk.findNextSibling(this.text,"rect"));null==this.rect&&(this.rect=svgtk.getPreviousSibling(this.text,"rect"));this.cb=b;0==this.text.childNodes.length&&this.text.appendChild(this.text.ownerDocument.createTextNode(""));this.onKeypressCB=this.onKeypress.bind(this);this.onKeydownCB=this.onKeydown.bind(this);this.index=svgtk.find(c+"-index");this.matrix=svgtk.getRoot(a).createSVGMatrix();
this.gscroll=svgtk.find(c+"-scroll");null!=this.index&&(svgtk.hide(this.index),this.resetOnClick=!1);return this};svgctrl.TextEdit.prototype.setEnabled=function(a){this.enabled=a;return this};svgctrl.TextEdit.prototype.isEnabled=function(){return this.enabled};svgctrl.TextEdit.prototype.setArrowUpCB=function(a){this.arrowUpCB=a;return this};svgctrl.TextEdit.prototype.setArrowUpField=function(a){this.arrowUpField=a;return this};
svgctrl.TextEdit.prototype.setArrowDownCB=function(a){this.arrowDownCB=a;return this};svgctrl.TextEdit.prototype.setArrowDownField=function(a){this.arrowDownField=a;null!=a&&(a.arrowUpField=this);return this};svgctrl.TextEdit.prototype.setAutoSizeRect=function(a,b,c){this.autoSizeRectFlag=a;1==a&&(this.autoSizeMinLengthValue=b,this.rectMargin=c,this.autoSizeRect());return this};
svgctrl.TextEdit.prototype.autoSizeRect=function(){this.getValue().length<this.autoSizeMinLengthValue.length?this.setMaxRect(this.autoSizeMinLengthValue,this.rectMargin):this.setRect(this.rectMargin);return this};svgctrl.TextEdit.prototype.setRectMargin=function(a){this.rectMargin=a;this.autoSizeRectFlag&&this.autoSizeRect();return this};
svgctrl.TextEdit.prototype.setMaxRect=function(a,b){var c=svgtk.getTextData(this.text);svgtk.setTextData(this.text,a);a=this.text.getBBox();svgtk.setTextData(this.text,c);this.rectMargin=b;svgtk.setRect(this.rect,a,this.rectMargin);return a};svgctrl.TextEdit.prototype.setRect=function(a){var b=this.text.getBBox();this.rectMargin=a;svgtk.setRect(this.rect,b,this.rectMargin);return b};svgctrl.TextEdit.prototype.getValue=function(){return svgtk.getTextData(this.text)};
svgctrl.TextEdit.prototype.setValue=function(a){svgtk.setTextData(this.text,a);1==this.autoSizeRectFlag&&this.autoSizeRect();return this};svgctrl.TextEdit.prototype.setResetOnClick=function(a){this.resetOnClick=a;return this};
svgctrl.TextEdit.prototype.onclick=function(a){a.preventDefault();if(this.enabled)return null!==svgctrl.TextEdit.focusOwner&&svgctrl.TextEdit.focusOwner.validate(),this.addListeners(),this.focused=!0,this.pValue=svgtk.getTextData(this.text),svgtk.setClassSuffix(this.rect,"2"),this.rectBox=this.rect.getBBox(),this.indexPos=-1,1==this.resetOnClick&&svgtk.setTextData(this.text,""),this.numberOfChars=this.text.getNumberOfChars(),null!=this.index&&(this.indexPos=this.numberOfChars,0!=this.numberOfChars?
svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getEndPositionOfChar(this.numberOfChars-1).x,0)):svgtk.setTransformMatrix(this.index,this.matrix.translate(0,0)),svgtk.show(this.index),null!=this.gscroll&&svgtk.setTransformMatrix(this.gscroll,this.matrix.translate(0,0))),this.ensureVisible(),!0;throw"field is disabled";};
svgctrl.TextEdit.prototype.addListeners=function(){window.focus();svgtk.addListener(svgtk.addListener(document.documentElement,"keypress",this.onKeypressCB),"keydown",this.onKeydownCB);this.focused=!0;svgctrl.TextEdit.focusOwner=this};
svgctrl.TextEdit.prototype.removeListeners=function(){svgtk.removeListener(svgtk.removeListener(document.documentElement,"keypress",this.onKeypressCB),"keydown",this.onKeydownCB);svgtk.setClassSuffix(this.rect,"0");this.focused=!1;null!=this.index&&svgtk.hide(this.index);svgctrl.TextEdit.focusOwner=null};
svgctrl.TextEdit.prototype.onKeydown=function(a){var b=a.charCode|a.keyCode;if(8==b)a.preventDefault(),b=this.numberOfChars,0<b&&(-1==this.indexPos?(this.text.firstChild.deleteData(b-1,1),this.numberOfChars--):0<this.indexPos&&(this.indexPos==this.numberOfChars?svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getStartPositionOfChar(this.numberOfChars-1).x,0)):svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getStartPositionOfChar(this.indexPos-1).x,0)),this.text.firstChild.deleteData(this.indexPos-
1,1),this.indexPos=Math.max(0,this.indexPos-1),this.numberOfChars--),1==this.autoSizeRectFlag&&b>this.autoSizeMinLengthValue.length&&this.setRect(this.rectMargin),this.ensureVisible()),a.returnValue=!1;else if(37<=b&&40>=b)switch(b){case 37:null!=this.index&&0<this.numberOfChars&&(-1==this.indexPos?this.indexPos=this.numberOfChars-1:0<this.indexPos&&this.indexPos--,svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getStartPositionOfChar(this.indexPos).x,0)),this.ensureVisible());
break;case 39:null!=this.index&&(this.indexPos==this.numberOfChars?svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getEndPositionOfChar(this.numberOfChars-1).x,0)):this.indexPos==this.numberOfChars-1?(this.indexPos++,svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getEndPositionOfChar(this.numberOfChars-1).x,0))):(this.indexPos++,svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getStartPositionOfChar(this.indexPos).x,0))),this.ensureVisible());
break;case 38:this.abort();this.arrowUpCB&&this.arrowUpCB(a);break;case 40:this.abort(),this.arrowDownCB&&this.arrowDownCB(a)}};svgctrl.TextEdit.prototype.abort=function(){this.focused&&(svgtk.setTextData(this.text,this.pValue),this.removeListeners(),this.pValue="")};svgctrl.TextEdit.prototype.validate=function(a){if(this.focused&&(this.removeListeners(),void 0!=this.cb))try{this.setValue(this.cb(a,svgtk.getTextData(this.text),this.pValue))}catch(b){this.setValue(this.pValue)}};
svgctrl.TextEdit.prototype.onKeypress=function(a){var b=a.charCode|a.keyCode;if(13==b||10==b)if(this.validate(a),this.arrowDownCB)this.arrowDownCB(a);else{if(this.arrowDownField)this.arrowDownField.onclick(a)}else 31<b&&127!=b&&65535>b&&(-1==this.indexPos?this.text.firstChild.appendData(String.fromCharCode(b)):this.indexPos==this.numberOfChars?(this.text.firstChild.appendData(String.fromCharCode(b)),this.indexPos++,svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getEndPositionOfChar(this.numberOfChars).x,
0))):(this.text.firstChild.insertData(this.indexPos,String.fromCharCode(b)),svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getEndPositionOfChar(this.indexPos).x,0)),this.indexPos++),this.numberOfChars++,1==this.autoSizeRectFlag&&svgtk.getTextDataLength(this.text)>this.autoSizeMinLengthValue.length&&this.setRect(this.rectMargin),this.ensureVisible());return a.returnValue=!1};
svgctrl.TextEdit.prototype.ensureVisible=function(){if(null!=this.gscroll&&0!=this.numberOfChars&&-1!=this.indexPos){var a=this.indexPos>=this.numberOfChars?this.numberOfChars-1:this.indexPos,b=this.text.getEndPositionOfChar(a);b.x<this.rectBox.x?(b=this.text.getStartPositionOfChar(a),svgtk.setTransformMatrix(this.gscroll,this.matrix.translate(this.rectBox.x-b.x,0))):b.x>this.rectBox.x+this.rectBox.width?svgtk.setTransformMatrix(this.gscroll,this.matrix.translate(this.rectBox.x+this.rectBox.width-
b.x,0)):svgtk.setTransformMatrix(this.gscroll,this.matrix.translate(0,0))}};svgctrl.TextEdit.focusOwner=null;var textpath={init:function(){textpath.textpath=null;textpath.path=null;textpath.offset=0;textpath.g=svgtk.get("textpathpanel-g");textpath.root=svgtk.getRoot(textpath.g);textpath.t=svgtk.get("total-length");textpath.mc=(new svgctrl.MovingCtrl).init(textpath.g).setDownTarget(svgtk.get("textpathpanel-bar"),null);textpath.hs=(new svgctrl.Slider).initHzByName("offset",0,10,1,null,textpath.onOffsetCB,textpath.onOffsetCB);textpath.mtg=(new svgctrl.ToggleGroup).initByName("method");textpath.stg=(new svgctrl.ToggleGroup).initByName("spacing");
textpath.oTextEdit=(new svgctrl.TextEdit).init(svgtk.get("offset-value"),textpath.onTextEditOffset).setEnabled(!0);svgtk.setRect(svgtk.get("textPathOffsetApplyRect"),svgtk.get("textPathOffsetApplyText").getBBox(),1);svgtk.isTouchSupported&&svgtk.touchAdaptHandlers(textpath.root)},setTextPath:function(a){var b=a.href.baseVal,c=1;textpath.textpath=a;textpath.path=svgtk.get(b.substring(1,b.length));textpath.totalLength=textpath.path.getTotalLength();.01>textpath.totalLength?c=3:.1>textpath.totalLength&&
(c=2);textpath.offset=a.startOffset.baseVal.value.toFixed(c);textpath.hs.setInterval(0,textpath.totalLength,c);textpath.hs.setValue(textpath.offset);svgtk.setTextData(textpath.t,textpath.totalLength.toFixed(c));2==a.method.baseVal?textpath.mtg.select("stretch"):textpath.mtg.select("align");1==a.spacing.baseVal?textpath.stg.select("auto"):textpath.stg.select("exact")},onOffsetRect:function(a){textpath.offset=(svgtk.getX(a.target)*textpath.totalLength/10).toFixed(1);textpath.hs.setValue(textpath.offset);
textpath.textpath.startOffset.baseVal.value=textpath.offset},onOffsetCB:function(a){textpath.offset=a;textpath.textpath.startOffset.baseVal.value=a;textpath.hs.setValue(a)},onSetMethod:function(a,b){textpath.mtg.select(b);null!=textpath.textpath&&(textpath.textpath.method.baseVal="align"==b?1:2)},onSetSpacing:function(a,b){textpath.stg.select(b);null!=textpath.textpath&&(textpath.textpath.spacing.baseVal="auto"==b?1:2)},onClickTextEditOffset:function(a){textpath.oTextEdit.onclick(a)},onTextEditOffset:function(a,
b,c){return 1==/^[-+]?[0-9]*\.?[0-9]+$/.test(b)?(textpath.onOffsetCB(b),b):c},onClose:function(a){if("undefined"!=typeof window.parent.onTextPathClose)window.parent.onTextPathClose()},onApply:function(a){if("undefined"!=typeof window.parent.onTextPathApply)window.parent.onTextPathApply()},demoInit:function(){textpath.init();svgtk.hide(svgtk.get("textPathOffsetApplyText"));svgtk.hide(svgtk.get("textPathOffsetApplyRect"));svgtk.hide(svgtk.get("textPathOffsetCloseGroup"));textpath.setTextPath(svgtk.get("demo"))},
onCadre:function(a){a.stopPropagation();a.preventDefault()}};window.textpath_init=textpath.init;window.textpath_demoInit=textpath.demoInit;window.textpath_setTextPath=textpath.setTextPath;window.textpath_onOffsetRect=textpath.onOffsetRect;window.textpath_onSetMethod=textpath.onSetMethod;window.textpath_onSetSpacing=textpath.onSetSpacing;window.textpath_onClickTextEditOffset=textpath.onClickTextEditOffset;window.textpath_onClose=textpath.onClose;window.textpath_onApply=textpath.onApply;
window.textpath_onCadre=textpath.onCadre;
]]></script></defs></g></g></g></svg>