<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:svg="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" height="100%" onload="window.textpath_demoInit(evt)" preserveAspectRatio="xMidYMid meet" viewBox="0 0 800 600" width="100%"><g transform="translate(75 120)"><rect height="300" rx="10" ry="10" style="stroke:gray;fill:none;" width="650" x="0" y="0"/><image height="10pt" width="10pt" x="10" xlink:href="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0ZWQgYnkgSWNvTW9vbi5pbyAtLT4KPCFET0NUWVBFIHN2ZyBQVUJMSUMgIi0vL1czQy8vRFREIFNWRyAxLjEvL0VOIiAiaHR0cDovL3d3dy53My5vcmcvR3JhcGhpY3MvU1ZHLzEuMS9EVEQvc3ZnMTEuZHRkIj4KPHN2ZyB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHdpZHRoPSIxMHB0IiBoZWlnaHQ9IjEwcHQiIHZpZXdCb3g9IjAgMCAxMjggMTI4Ij4KPGcgaWQ9Imljb21vb24taWdub3JlIj4KCTxsaW5lIHN0cm9rZS13aWR0aD0iMSIgeDE9IiIgeTE9IiIgeDI9IiIgeTI9IiIgc3Ryb2tlPSIjNDQ5RkRCIiBvcGFjaXR5PSIiPjwvbGluZT4KPC9nPgoJPHBhdGggZD0iTTY0IDBjLTM1LjM0NyAwLTY0IDI4LjY1My02NCA2NHMyOC42NTMgNjQgNjQgNjQgNjQtMjguNjUzIDY0LTY0LTI4LjY1My02NC02NC02NHpNOTAuMTAxIDY5LjY1N2wtMzIgMzJjLTMuMTI0IDMuMTI0LTguMTg5IDMuMTI0LTExLjMxNCAwcy0zLjEyNC04LjE4OSAwLTExLjMxNGwyNi4zNDMtMjYuMzQzLTI2LjM0My0yNi4zNDNjLTMuMTI0LTMuMTI0LTMuMTI0LTguMTg5IDAtMTEuMzE0czguMTg5LTMuMTI1IDExLjMxNCAwbDMyIDMyYzEuNDQ4IDEuNDQ4IDIuMzQzIDMuNDQ4IDIuMzQzIDUuNjU3cy0wLjg5NSA0LjIwOS0yLjM0MyA1LjY1N3oiIGZpbGw9IiMwMDAwMDAiPjwvcGF0aD4KPC9zdmc+Cg==" y="8"/><text class="unselect" style="font-family:verdana sans-serif;font-size:16pt;text-anchor:start;font-weight:normal;" x="30" y="20">Move your text on a path</text><g style="font-family:sans-serif;font-size:12pt;text-decoration:underline;font-style:normal;"><a target="_blank" xlink:href="http://www.w3.org/TR/SVG/text.html#TextOnAPath" xlink:show="replace"><text style="text-anchor:start;fill:navy;" x="10" y="280">View textPath element definition</text></a><a target="_blank" xlink:href="http://www.draw-svg.appspot.com/drawsvg.html" xlink:show="replace"><text style="text-anchor:end;fill:navy;" x="640" y="20">Draw SVG</text></a></g><g transform="translate(-30 50) scale(0.5)"><path d="M 100 200 C 200 100 300   0 400 100 C 500 200 600 300 700 200 C 800 100 900 100 900 100" id="MyPath" style="fill:none;stroke:black;stroke-dasharray:10 10;"/><text fill="sienna" font-family="Verdana" font-size="42.5"><textPath id="demo" xlink:href="#MyPath">This is a text on a path</textPath></text></g><g transform="translate(450 50)"><g id="textpathpanel" onmousedown="window.textpath_onCadre(evt)"><defs><script type="text/ecmascript"><![CDATA[

	 
// API externe (svg embed ou inline..)
window.textpathpanel = {
	init : function() {
		window.textpath_init();
	},
	setTextPath : function(v) {
		try {
			window.textpath_setTextPath(v);
		} catch(ex) {alert("textpath_setTextpath("+v+"): " + ex);}
	}
		
};

window.parent.textpathpanel=window.textpathpanel;
	 
 ]]></script></defs><defs><style type="text/css"><![CDATA[
 
text.unselect {
	pointer-events:none;
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
}
#textpathpanel-bar {
	fill:gray;
	stroke:none;
	cursor:move;
}
#textpathpanel-bar:hover {
	fill:black;
	stroke:none;
	cursor:move;
}
#textpathpanel-rect {
	stroke-width:1;
	fill:whitesmoke;
	fill-opacity:1;
	stroke:lavender;
}
#textpathpanel-close {
	fill:white;
	stroke:none;
	fill-opacity:0.1;
}
#textpathpanel-close:hover {
	fill:navy;
	stroke:navy;
	stroke-width:1;
}
#textPathOffsetApplyText {
	fill:black;
	font-size:7pt;
	font-weight:normal;
}
#textPathOffsetApplyRect {
	fill:white;
	fill-opacity:0.1;
	stroke:lavender;
	stroke-width:1;
}
#textPathOffsetApplyRect:hover {
	fill:white;
	fill-opacity:0.1;
	stroke:black;
	stroke-width:1;
}
text.unselect {
	pointer-events:none;
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
}
rect.textrect {fill:white;fill-opacity:0.1;stroke:none;}
text.header {
	font-family:sans-serif;
	font-weight:bold;
	font-size:9px;
	fill:black;
}
text.value {
	font-size:8px;fill:black;font-family:sans-serif;
}
circle.toggleC {fill:white;stroke:black;stroke-width:0.5px;}
circle.toggle0 {fill:white;stroke:none;}
circle.toggle1 {fill:black;stroke:none;}

rect.textEdit0 {
	fill : papayawhip;
	fill-opacity:0.2;
	stroke:none;
	pointer-events:all;
}
rect.textEdit0:hover {
	fill : papayawhip;
	fill-opacity:0.5;
	vector-effect:non-scaling-stroke;
	stroke:Sienna;
	stroke-width:1px;
	stroke-dasharray: 1px, 1px;
	pointer-events:all;
}
rect.textEdit2 {
	fill : papayawhip;
	fill-opacity:0.5;
	vector-effect:non-scaling-stroke;
	stroke:Sienna;
	stroke-width:2px;
	pointer-events:all;
}
 ]]></style></defs><g id="textpathpanel-g" transform="translate(20 20)"><defs><path d="M0 0 l -2 -2 v -3 h 4 v1 h-4 h4 v 2 z" id="indexH" style="stroke-width:0.1; stroke: black;cursor:e-resize;fill:white;" transform="scale(0.3)"/></defs><g id="textpathpanel-gs" transform="scale(1.4)"><rect height="110" id="textpathpanel-rect" rx="4" ry="4" width="100" x="0" y="0"/><rect height="6" id="textpathpanel-bar" rx="2" ry="2" width="92" x="4" y="4"/><g transform="translate(11 28)"><defs><clipPath id="offset-value-clip"><rect height="10" width="40" x="40" y="-7"/></clipPath></defs><text class="value unselect" id="total-length" text-anchor="end" x="80" y="-4">00</text><g transform="translate(0 20)"><text class="header unselect" x="0" y="0">Offset</text><text class="value unselect" clip-path="url(#offset-value-clip)" id="offset-value" text-anchor="end" x="80" y="0">1</text><rect class="textEdit0" height="10" id="offset-value-rect" onmousedown="window.textpath_onClickTextEditOffset(evt)" width="40" x="40" y="-7"/></g><g transform="scale(8)"><rect height="2" style="fill:whitesmoke;stroke:none;" width="11" x="-0.5" y="-0.5"/><rect height="1" id="offset-bar" style="fill:lavender;stroke:black;stroke-width:0.1;pointer-events:none;" width="10" x="0" y="0"/><g id="offset-bar-g" onmousedown="window.textpath_onOffsetRect(evt)" style="fill:lavender;stroke:none;stroke-width:0.1;cursor:pointer;"><rect height="1" width="1" x="0" y="0"/><rect height="1" width="1" x="1" y="0"/><rect height="1" width="1" x="2" y="0"/><rect height="1" width="1" x="3" y="0"/><rect height="1" width="1" x="4" y="0"/><rect height="1" width="1" x="5" y="0"/><rect height="1" width="1" x="6" y="0"/><rect height="1" width="1" x="7" y="0"/><rect height="1" width="1" x="8" y="0"/><rect height="1" width="1" x="9" y="0"/></g><path d="M0 2h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2v-1v1h2" style="stroke:black;stroke-width:0.1;pointer-events:none;" transform="scale(0.5)"/><use id="offset-index" x="0" xlink:href="#indexH" y="0.4"/></g></g><g id="method" transform="translate(11 65)"><text class="header unselect">Method</text><g id="method-align-g" onmousedown="window.textpath_onSetMethod(evt,'align')" style="cursor:pointer;" transform="translate(5 8)"><circle class="toggleC" cx="0" cy="0" r="2.5"/><circle class="toggle1" cx="0" cy="0" r="1"/><text class="value unselect" x="4" y="1.8">align</text><rect class="textrect"/></g><g id="method-stretch-g" onmousedown="window.textpath_onSetMethod(evt,'stretch')" style="cursor:pointer;" transform="translate(5 17)"><circle class="toggleC" cx="0" cy="0" r="2.5"/><circle class="toggle0" cx="0" cy="0" r="1"/><text class="value unselect" x="4" y="1.8">stretch</text><rect class="textrect"/></g></g><g id="spacing" transform="translate(61 65)"><text class="header unselect" text-anchor="end" x="30" y="0">Spacing</text><g id="spacing-exact-g" onmousedown="window.textpath_onSetSpacing(evt,'exact')" style="cursor:pointer;" transform="translate(5 8)"><circle class="toggleC" cx="0" cy="0" r="2.5"/><circle class="toggle1" cx="0" cy="0" r="1"/><text class="value unselect" x="4" y="1.8">exact</text><rect class="textrect"/></g><g id="spacing-auto-g" onmousedown="window.textpath_onSetSpacing(evt,'auto')" style="cursor:pointer;" transform="translate(5 17)"><circle class="toggleC" cx="0" cy="0" r="2.5"/><circle class="toggle0" cx="0" cy="0" r="1"/><text class="value unselect" x="4" y="1.8">auto</text><rect class="textrect"/></g></g><g id="textPathOffsetCloseGroup" onmousedown="window.textpath_onClose(evt)" transform="translate(104 4)"><image height="10" width="10" x="0" xlink:href="data:image/gif;base64,R0lGODlhDAAMAJEAAFNgvMrZ93yL0Oz1/CH5BAAAAAAALAAAAAAMAAwAAAImlI83yw0yRGgBvlEnluPukC3exonQUpXdmYXrh3KXur3NDeT6rhcAOw==" y="0"/><rect height="10" id="textpathpanel-close" width="10" x="0" y="0"/></g><text id="textPathOffsetApplyText" style="text-anchor:end;" x="94" y="100"> OK </text><rect id="textPathOffsetApplyRect" onmousedown="window.textpath_onApply(evt)" rx="2" ry="2"/><text class="unselect" font-size="7" style="font-family:sans-serif;font-style:normal;" x="3" y="106">Offset textPath tool</text></g></g><defs id="JS"><script type="text/ecmascript"><![CDATA[var svgtk={NS:"http://www.w3.org/2000/svg",XLINK_NS:"http://www.w3.org/1999/xlink",EVT_TYPE_MOUSE_DOWN:"mousedown",EVT_TYPE_MOUSE_MOVE:"mousemove",EVT_TYPE_MOUSE_UP:"mouseup",EVT_TYPE_TOUCH_START:"touchstart",EVT_TYPE_TOUCH_MOVE:"touchmove",EVT_TYPE_TOUCH_END:"touchend",provideNamespace:function(b){"undefined"==typeof window[b]&&(window[b]={})},removeA:function(b,c){b.removeAttribute(c);return b},removeCursor:function(b){return svgtk.removeStyleAttribute(b,"cursor")},removeFill:function(b){return svgtk.removeStyleAttribute(b,
"fill")},removeFillOpacity:function(b){return svgtk.removeStyleAttribute(b,"fill-opacity")},removeFillRule:function(b){return svgtk.removeStyleAttribute(b,"fill-rule")},removeFilter:function(b){return svgtk.removeStyleAttribute(b,"filter")},removeFontFamily:function(b){return svgtk.removeStyleAttribute(b,"font-family")},removeFontSize:function(b){return svgtk.removeStyleAttribute(b,"font-size")},removeFontStyle:function(b){return svgtk.removeStyleAttribute(b,"font-style")},removeFontStretch:function(b){return svgtk.removeStyleAttribute(b,
"font-stretch")},removeFontVariant:function(b){return svgtk.removeStyleAttribute(b,"font-variant")},removeFontWeight:function(b){return svgtk.removeStyleAttribute(b,"font-weight")},removeHref:function(b,c){b.removeAttributeNS(svgtk.XLINK_NS,"href");return b},removeMarkerStart:function(b){return svgtk.removeStyleAttribute(b,"marker-start")},removeMarkerMid:function(b){return svgtk.removeStyleAttribute(b,"marker-mid")},removeMarkerEnd:function(b){return svgtk.removeStyleAttribute(b,"marker-end")},removePointerEvents:function(b){return svgtk.removeStyleAttribute(b,
"pointer-events")},removeStroke:function(b){return svgtk.removeStyleAttribute(b,"stroke")},removeStrokeWidth:function(b){return svgtk.removeStyleAttribute(b,"stroke-width")},removeStrokeDash:function(b){return svgtk.removeStyleAttribute(b,"stroke-dasharray")},removeStrokeDashOffset:function(b){return svgtk.removeStyleAttribute(b,"stroke-dashoffset")},removeStrokeLinecap:function(b){return svgtk.removeStyleAttribute(b,"stroke-linecap")},removeStrokeLinejoin:function(b){return svgtk.removeStyleAttribute(b,
"stroke-linejoin")},removeStrokeMiterLimit:function(b){return svgtk.removeStyleAttribute(b,"stroke-miterlimit")},removeStrokeOpacity:function(b){return svgtk.removeStyleAttribute(b,"stroke-opacity")},removeStyle:function(b){return svgtk.removeA(b,"style")},removeTextAnchor:function(b){return svgtk.removeStyleAttribute(b,"text-anchor")},removeTextDecoration:function(b){return svgtk.removeStyleAttribute(b,"text-decoration")},setA:function(b,c,d){b.setAttribute(c,d);return b},setClass:function(b,c){return svgtk.setA(b,
"class",c)},getD:function(b){return svgtk.getA(b,"d")},getDur:function(b){return svgtk.getA(b,"dur")},getId:function(b){return svgtk.getA(b,"id")},getGradientUnits:function(b){return svgtk.getA(b,"gradientUnits")},getMarkerHeight:function(b){return svgtk.getA(b,"markerHeight")},getMarkerWidth:function(b){return svgtk.getA(b,"markerWidth")},getMarkerUnits:function(b){return svgtk.getA(b,"markerUnits")},getPatternUnits:function(b){return svgtk.getA(b,"patternUnits")},getPatternContentUnits:function(b){return svgtk.getA(b,
"patternContentUnits")},getSpreadMethod:function(b){return svgtk.getA(b,"spreadMethod")},getTextAnchor:function(b){return svgtk.getA(b,"text-anchor")},getTextDecoration:function(b){return svgtk.getA(b,"text-decoration")},setClipPath:function(b,c){return svgtk.setA(b,"clip-path","url(#"+c+")")},setCursor:function(b,c){return svgtk.setStyleAttribute(b,"cursor",c)},setFill:function(b,c){return svgtk.setStyleMemberAttribute(b,"fill",c)},setFillGrd:function(b,c){return svgtk.setFillUrlId(b,c)},setFillOpacity:function(b,
c){return svgtk.setStyleAttribute(b,"fill-opacity",c)},setFillPattern:function(b,c){return svgtk.setFillUrlId(b,c)},setFillRule:function(b,c){return svgtk.setStyleAttribute(b,"fill-rule",c)},setFillUrlId:function(b,c){svgtk.removeFill(b);return svgtk.setA(b,"fill","url(#"+c+")")},setFilterId:function(b,c){return svgtk.setStyleMemberAttribute(b,"filter","url(#"+c+")")},setGradientUnits:function(b,c){return svgtk.setA(b,"gradientUnits",c)},setHeight:function(b,c){return svgtk.setA(b,"height",c)},setId:function(b,
c){return svgtk.setA(b,"id",c)},setMarker:function(b,c,d){return svgtk.setStyleAttribute(b,c,"url(#"+d+")")},setMarkerEnd:function(b,c){return svgtk.setStyleAttribute(b,"marker-end","url(#"+c+")")},setMarkerMid:function(b,c){return svgtk.setStyleAttribute(b,"marker-mid","url(#"+c+")")},setMarkerStart:function(b,c){return svgtk.setStyleAttribute(b,"marker-start","url(#"+c+")")},setMarkerHeight:function(b,c){return svgtk.setA(b,"markerHeight",c)},setMarkerWidth:function(b,c){return svgtk.setA(b,"markerWidth",
c)},setMarkerUnits:function(b,c){return svgtk.setA(b,"markerUnits",c)},setPatternContentUnits:function(b,c){return svgtk.setA(b,"patternContentUnits",c)},setPatternUnits:function(b,c){return svgtk.setA(b,"patternUnits",c)},setSpreadMethod:function(b,c){return svgtk.setA(b,"spreadMethod",c)},setTextAnchor:function(b,c){return svgtk.setStyleAttribute(b,"text-anchor",c)},setTextDecoration:function(b,c){return svgtk.setStyleAttribute(b,"text-decoration",c)},setRect:function(b,c,d){return svgtk.setHeight(svgtk.setWidth(svgtk.setY(svgtk.setX(b,
c.x-d),c.y-d),c.width+d+d),c.height+d+d)},setElementPreviousRectBox:function(b,c){return svgtk.setRect(svgtk.getPreviousSibling(b,"rect"),b.getBBox(),c)},setElementNextRectBox:function(b,c){return svgtk.setRect(svgtk.getNextSibling(b,"rect"),b.getBBox(),c)},setElementRectBox:function(b,c){return svgtk.setRect(svgtk.getNextSibling(b,"rect"),b.getBBox(),c)},setRefX:function(b,c){return svgtk.setA(b,"refX",c)},setRefY:function(b,c){return svgtk.setA(b,"refY",c)},setPointerEvents:function(b,c){return svgtk.setStyleAttribute(b,
"pointer-events",c)},setFontFamily:function(b,c){return svgtk.setStyleAttribute(b,"font-family",c)},setFontWeight:function(b,c){return svgtk.setStyleAttribute(b,"font-weight",c)},setFontSize:function(b,c){return svgtk.setPtyLength(b,"font-size",c)},setFontStyle:function(b,c){return svgtk.setStyleAttribute(b,"font-style",c)},setFontStretch:function(b,c){return svgtk.setStyleAttribute(b,"font-stretch",c)},setFontVariant:function(b,c){return svgtk.setStyleAttribute(b,"font-variant",c)},setFrom:function(b,
c){return svgtk.setA(b,"from",c)},setStartOffset:function(b,c){return svgtk.setStyleAttribute(b,"startOffset",c)},setStopColor:function(b,c){return svgtk.setStyleAttribute(b,"stop-color",c)},setStopOpacity:function(b,c){return svgtk.setStyleAttribute(b,"stop-opacity",c)},setStroke:function(b,c){return svgtk.setStyleMemberAttribute(b,"stroke",c)},setStrokeDash:function(b,c){return svgtk.setStyleAttribute(b,"stroke-dasharray",c)},setStrokeDashOffset:function(b,c){return svgtk.setStyleAttribute(b,"stroke-dashoffset",
c)},setStrokeGrd:function(b,c){return svgtk.setStrokeUrlId(b,c)},setStrokeLinecap:function(b,c){return svgtk.setStyleAttribute(b,"stroke-linecap",c)},setStrokeLinejoin:function(b,c){return svgtk.setStyleAttribute(b,"stroke-linejoin",c)},setStrokeMiterLimit:function(b,c){return svgtk.setStyleAttribute(b,"stroke-miterlimit",c)},setStrokeOpacity:function(b,c){return svgtk.setStyleAttribute(b,"stroke-opacity",c)},setStrokePattern:function(b,c){return svgtk.setStrokeUrlId(b,c)},setStrokeUrlId:function(b,
c){svgtk.removeStroke(b);return svgtk.setA(b,"stroke","url(#"+c+")")},setStrokeWidth:function(b,c){return svgtk.setPtyLength(b,"stroke-width",c)},setStyle:function(b,c){return svgtk.setA(b,"style",c)},setTo:function(b,c){return svgtk.setA(b,"to",c)},setTransform:function(b,c){return svgtk.setA(b,"transform",c)},setVectorEffect:function(b,c){return svgtk.setStyleAttribute(b,"vector-effect",c)},setWidth:function(b,c){return svgtk.setA(b,"width",c)},setX:function(b,c){return svgtk.setA(b,"x",c)},setX1:function(b,
c){return svgtk.setA(b,"x1",c)},setX2:function(b,c){return svgtk.setA(b,"x2",c)},setY:function(b,c){return svgtk.setA(b,"y",c)},setY1:function(b,c){return svgtk.setA(b,"y1",c)},setY2:function(b,c){return svgtk.setA(b,"y2",c)},setCx:function(b,c){return svgtk.setA(b,"cx",c)},setCy:function(b,c){return svgtk.setA(b,"cy",c)},setD:function(b,c){return svgtk.setA(b,"d",c)},setDur:function(b,c){return svgtk.setA(b,"dur",c)},setFx:function(b,c){return svgtk.setA(b,"fx",c)},setFy:function(b,c){return svgtk.setA(b,
"fy",c)},setHref:function(b,c){b.setAttributeNS(svgtk.XLINK_NS,"href",c);return b},setR:function(b,c){return svgtk.setA(b,"r",c)},getCursor:function(b){return svgtk.getStyleAttribute(b,"cursor")},getFill:function(b){return svgtk.getStyleMemberAttribute(b,"fill")},getFillGrd:function(b){return svgtk.getUrlAnchor(svgtk.getFill(b))},getFillOpacity:function(b){return svgtk.getStyleAttribute(b,"fill-opacity")},getFillPattern:function(b){return svgtk.getUrlAnchor(svgtk.getFill(b))},getFillRule:function(b){return svgtk.getStyleAttribute(b,
"fill-rule")},getFontFamily:function(b){return svgtk.getStyleAttribute(b,"font-family")},getFontSize:function(b){return svgtk.getStyleAttribute(b,"font-size")},getFontStyle:function(b){return svgtk.getStyleAttribute(b,"font-style")},getFontStretch:function(b){return svgtk.getStyleAttribute(b,"font-stretch")},getFontVariant:function(b){return svgtk.getStyleAttribute(b,"font-variant")},getFontWeight:function(b){return svgtk.getStyleAttribute(b,"font-weight")},getHref:function(b){return b.getAttributeNS(svgtk.XLINK_NS,
"href")},getMarker:function(b,c){return svgtk.getUrlAnchor(svgtk.getStyleAttribute(b,c))},getMarkerStart:function(b){return svgtk.getUrlAnchor(svgtk.getStyleAttribute(b,"marker-start"))},getMarkerMid:function(b){return svgtk.getUrlAnchor(svgtk.getStyleAttribute(b,"marker-mid"))},getMarkerEnd:function(b){return svgtk.getUrlAnchor(svgtk.getStyleAttribute(b,"marker-end"))},getPointerEvents:function(b){return svgtk.getStyleAttribute(b,"pointer-events")},getFilter:function(b){return svgtk.getStyleMemberAttribute(b,
"filter")},getFilterId:function(b){return svgtk.getUrlAnchor(svgtk.getFilter(b))},getStartOffset:function(b){return svgtk.getStyleAttribute(b,"startOffset")},getStopColor:function(b){return svgtk.getStyleAttribute(b,"stop-color")},getStopOpacity:function(b){return svgtk.getStyleAttribute(b,"stop-opacity")},getStroke:function(b){return svgtk.getStyleMemberAttribute(b,"stroke")},getStrokeDash:function(b){return svgtk.getStyleAttribute(b,"stroke-dasharray")},getStrokeDashOffset:function(b){return svgtk.getStyleAttribute(b,
"stroke-dashoffset")},getStrokeGrd:function(b){return svgtk.getUrlAnchor(svgtk.getStroke(b))},getStrokeLinecap:function(b){return svgtk.getStyleAttribute(b,"stroke-linecap")},getStrokeLinejoin:function(b){return svgtk.getStyleAttribute(b,"stroke-linejoin")},getStrokeMiterLimit:function(b){return svgtk.getStyleAttribute(b,"stroke-miterlimit")},getStrokeOpacity:function(b){return svgtk.getStyleAttribute(b,"stroke-opacity")},getStrokeWidth:function(b){return svgtk.getStyleAttribute(b,"stroke-width")},
getStyle:function(b){return svgtk.getA(b,"style")},getTransform:function(b){return svgtk.getA(b,"transform")},getVisibility:function(b){return svgtk.getStyleAttribute(b,"visibility")},getUrlAnchor:function(b){if(null!=b&&"url("==b.substr(0,4)&&-1!=b.indexOf("#")&&-1!=b.indexOf(")")){b=b.substring(b.indexOf("#")+1,b.indexOf(")"));if("'"==b.charAt(b.length-1)||'"'==b.charAt(b.length-1))b=b.substr(0,b.length-1);return b}return null},show:function(b){return svgtk.setVisibility(b,"visible")},hide:function(b){return svgtk.setVisibility(b,
"hidden")},isVisible:function(b){b=svgtk.getVisibility(b);return null==b||"visible"==b},setVisible:function(b,c){return svgtk.setVisibility(b,1==c?"visible":"hidden")},zapClassName:function(b,c,d){return svgtk.getClass(b).replace(c,d)},zapClassNameSuffix:function(b,c){var d=svgtk.getClass(b);return d.substring(0,d.length-1)+c},getClassSuffix:function(b){b=svgtk.getClass(b);return null==b?null:b.charAt(b.length-1)},setClassSuffix:function(b,c){return svgtk.setClass(b,svgtk.zapClassNameSuffix(b,c))},
addListener:function(b,c,d){b.addEventListener(c,d,!1);return b},removeListener:function(b,c,d){b.removeEventListener(c,d,!1);return b},getA:function(b,c){return b.getAttribute(c)},getF:function(b,c){var d=svgtk.getA(b,c);return null==d||""==d?0:parseFloat(d)},getClass:function(b){return svgtk.getA(b,"class")},getHeight:function(b){return svgtk.getF(b,"height")},getX:function(b){return svgtk.getF(b,"x")},getY:function(b){return svgtk.getF(b,"y")},getX1:function(b){return svgtk.getF(b,"x1")},getY1:function(b){return svgtk.getF(b,
"y1")},getX2:function(b){return svgtk.getF(b,"x2")},getY2:function(b){return svgtk.getF(b,"y2")},getWidth:function(b){return svgtk.getF(b,"width")},appendChild:function(b,c){return b.appendChild(b.ownerDocument.createElementNS(svgtk.NS,c))},find:function(b){return document.getElementById(b)},firstChildElement:function(b){for(b=b.firstChild;null!=b;b=b.nextSibling)if(b.tagName)return b;return null},get:function(b){var c=svgtk.find(b);if(null==c)throw"Element '"+b+"' not found";return c},findFirstChild:function(b,
c){for(var d=b.firstChild;null!=d;d=d.nextSibling)if(d.tagName&&d.tagName==c)return d;return null},getFirstChild:function(b,c){for(var d=b.firstChild;null!=d;d=d.nextSibling)if(d.tagName&&d.tagName==c)return d;throw"getFirstChild ("+b+"(id="+b.id+"),"+c+"), element not found";},findChildElementIndex:function(b,c){for(var d=b.firstChild,f=0;null!=d;d=d.nextSibling)if(d.tagName){if(d==c)return f;f++}return-1},findChildElement:function(b,c){for(var d=b.firstChild,f=0;null!=d;d=d.nextSibling)if(d.tagName){if(c==
f)return d;f++}return null},findTreeElementIndex:function(b,c){for(var d=b,f=0,g=null;null!=d;d=null==g?null:g.pop())for(d=d.firstChild;null!=d;d=d.nextSibling)if(d.tagName){if(d==c)return f;f++;null==g&&(g=[]);g.push(d)}return-1},findTreeElement:function(b,c){for(var d=b,f=0,g=null;null!=d;d=null==g?null:g.pop())for(d=d.firstChild;null!=d;d=d.nextSibling)if(d.tagName){if(c==f)return d;f++;null==g&&(g=[]);g.push(d)}return null},visitTree:function(b,c){for(var d=b,f=0,g=null;null!=d;d=null==g?null:
g.pop())for(d=d.firstChild;null!=d;d=d.nextSibling)d.tagName&&(null!=c&&c(f,d),f++,null==g&&(g=[]),g.push(d));return f},visitChildren:function(b,c){for(var d=b.firstChild,f=0;null!=d;d=d.nextSibling)d.tagName&&(null!=c&&c(f,d),f++);return f},getLastChild:function(b,c){for(var d=b.lastChild;null!=d;d=d.previousSibling)if(d.tagName&&d.tagName==c)return d;throw"getLastChild ("+b+","+c+"), element not found";},nextSiblingElement:function(b){for(b=b.nextSibling;null!=b;b=b.nextSibling)if(b.tagName)return b;
return null},findNextSibling:function(b,c){for(var d=b.nextSibling;null!=d;d=d.nextSibling)if(d.tagName&&d.tagName==c)return d;return null},getNextSibling:function(b,c){for(var d=b.nextSibling;null!=d;d=d.nextSibling)if(d.tagName&&d.tagName==c)return d;throw"getNextSibling ("+b+","+c+"), element not found";},findPreviousSibling:function(b,c){for(var d=b.previousSibling;null!=d&&(!d.tagName||d.tagName!=c);d=d.previousSibling);return d},getPreviousSibling:function(b,c){for(var d=b.previousSibling;null!=
d;d=d.previousSibling)if(d.tagName&&d.tagName==c)return d;throw"getPreviousSibling ("+b+","+c+"), element not found";},getPreviousSiblingElement:function(b){for(var c=b.previousSibling;null!=c;c=c.previousSibling)if(c.tagName)return c;throw"getPreviousSibling ("+b+"), element not found";},findPreviousSiblingElement:function(b){for(b=b.previousSibling;null!=b;b=b.previousSibling)if(b.tagName)return b;return null},removeFromParent:function(b){return b.parentNode.removeChild(b)},removeChildren:function(b){for(;null!=
b.firstChild;)b.removeChild(b.firstChild)},getFirstChildElement:function(b){for(var c=b.firstChild;null!=c;c=c.nextSibling)if(c.tagName)return c;throw"getFirstChildElement ("+b+"), child element not found";},getNextSiblingElement:function(b){for(var c=b.nextSibling;null!=c;c=c.nextSibling)if(c.tagName)return c;throw"getNextSibling ("+b+"), element not found";},getChildCount:function(b,c){for(var d=0,f=b.firstChild;null!=f;f=f.nextSibling)!f.tagName||null!=c&&f.tagName!=c||d++;return d},getRefX:function(b){return svgtk.getF(b,
"refX")},getRefY:function(b){return svgtk.getF(b,"refY")},setTextData:function(b,c){null==b.firstChild||null==b.firstChild.data?b.appendChild(document.createTextNode(c)):b.firstChild.data=c;return b},getTextData:function(b){return null==b.firstChild?null:b.firstChild.data},getTextDataLength:function(b){return null==b.firstChild?0:b.firstChild.data.length},appendTextTspan:function(b,c){var d=svgtk.appendChild(b,"text");svgtk.appendChild(d,"tspan").appendChild(document.createTextNode(c));return d},
appendRect:function(b,c,d,f,g){return svgtk.setX(svgtk.setY(svgtk.setWidth(svgtk.setHeight(svgtk.appendChild(b,"rect"),g),f),d),c)},getPix2SvgScale:function(b){b=b.getScreenCTM().inverse();return svgtk.hypot(b.a,b.d)/Math.SQRT2},getRoot:function(b){if(null==b)throw"svgtk.getRoot node is null";if(null==b.ownerDocument)throw"svgtk.getRoot node.ownerDocument is null";if("undefined"!=typeof b.ownerDocument.rootElement&&null!=b.ownerDocument.rootElement)return b.ownerDocument.rootElement;if(null==b.ownerSVGElement){if("svg"==
b.tagName)return b;for(var c=null,d=b.parentNode;null!=d;d=d.parentNode)"svg"==d.tagName&&(c=d);if(null!=c)return c;throw"svgtk.getRoot unexpected node "+b+" "+typeof b.ownerSVGElement+" tag '"+b.tagName+"' should be'svg'";}for(d=b.ownerSVGElement;null!=d.ownerSVGElement;)d=d.ownerSVGElement;if("svg"==d.tagName)return d;throw"svgtk.getRoot unexpected node "+d+" tag '"+d.tagName+"' should be 'svg'";},alignValues:"none xMinYMin xMidYMin xMaxYMin xMinYMid xMidYMid xMaxYMid xMinYMax xMidYMax xMaxYMax".split(" "),
alignStringValueToIntValue:function(b){b=b.toUpperCase();for(var c=0;c<svgtk.alignValues.length;c++)if(svgtk.alignValues[c].toUpperCase()==b)return c+1;return 0},alignIntValueToStringValue:function(b){b=parseInt(b);return 1<=b&&b<=svgtk.alignValues.length?svgtk.alignValues[b-1]:""},meetStringValueToIntValue:function(b){b=b.toUpperCase();return"MEET"==b?1:"SLICE"==b?2:0},meetIntValueToStringValue:function(b){switch(parseInt(b)){case 1:return"meet";case 2:return"slice";default:return""}},getSVGIncludedMatrix:function(b){var c=
parseFloat(b.getAttribute("x")),d=parseFloat(b.getAttribute("y")),f=b.width.baseVal.value,g=b.height.baseVal.value,h=b.viewBox.baseVal;0==h.width&&(h.width=f);0==h.height&&(h.height=g);var k=h.width/h.height,l=b.preserveAspectRatio.baseVal.align,m=b.preserveAspectRatio.baseVal.meetOrSlice==SVGPreserveAspectRatio.SVG_MEETORSLICE_MEET;b=b.createSVGMatrix();var n=f/g;b=b.translate(c,d);if(l==SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_NONE)b=b.scale(f/h.width,g/h.height),b=b.translate(-h.x,-h.y);
else if(k<n&&m||k>=n&&!m)switch(c=g/h.height,b=b.scale(c,c),l){case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMIN:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMID:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMAX:b=b.translate(-h.x,-h.y);break;case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMIN:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMID:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMAX:b=b.translate(-h.x-(h.width-f*h.height/g)/
2,-h.y);break;default:b.translate(-h.x-(h.width-f*h.height/g),-h.y)}else switch(c=f/h.width,b=b.scale(c,c),l){case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMIN:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMIN:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMAXYMIN:b=b.translate(-h.x,-h.y);break;case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMINYMID:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMIDYMID:case SVGPreserveAspectRatio.SVG_PRESERVEASPECTRATIO_XMAXYMID:b=
b.translate(-h.x,-h.y-(h.height-g*h.width/f)/2);break;default:b=b.translate(-h.x,-h.y-(h.height-g*h.width/f))}return b},getTransformToElement:function(b,c){if(svgtk.testAgentFireFox)return b.getTransformToElement?b.getTransformToElement(c):c.getScreenCTM().inverse().multiply(b.getScreenCTM());for(var d=b,f="svg"==b.tagName;!f&&(d=d.parentNode)!=c;)d.tagName&&"svg"==d.tagName&&(f=!0);if(0==f)return b.getTransformToElement?b.getTransformToElement(c):c.getScreenCTM().inverse().multiply(b.getScreenCTM());
for(d=svgtk.getTransformMatrix(b);(b=b.parentNode)!=c;)b.tagName&&(d="svg"==b.tagName?d.multiply(svgtk.getSVGIncludedMatrix(b)):svgtk.getTransformMatrix(b).multiply(d));return d},getTransformToDocument:function(b){return svgtk.getTransformToElement(b,svgtk.getRoot(b))},getTransformToDocumentScreenCTM:function(b){for(var c=b.getScreenCTM();(b=b.parentNode)!=document;)c=b.getScreenCTM().multiply(c);return c},translateElement:function(b,c,d){c=svgtk.getRoot(b).createSVGMatrix().translate(c,d);return svgtk.transformElement(b,
c)},scaleElement:function(b,c){var d=svgtk.getRoot(b).createSVGMatrix().scale(c);return svgtk.transformElement(b,d)},rotateElement:function(b,c){var d=svgtk.getRoot(b).createSVGMatrix().rotate(c);return svgtk.transformElement(b,d)},transformElement:function(b,c){var d=b.transform.baseVal;0!=d.numberOfItems?(d.insertItemBefore(d.createSVGTransformFromMatrix(c),0),d.consolidate()):d.initialize(d.createSVGTransformFromMatrix(c));return b},setTransformTranslate:function(b,c,d){c=svgtk.getRoot(b).createSVGMatrix().translate(c,
d);svgtk.setTransformMatrix(b,c);return b},setTransformScale:function(b,c){return svgtk.setTransformMatrix(b,svgtk.getRoot(b).createSVGMatrix().scale(c))},setTransformRotate:function(b,c){var d=svgtk.getRoot(b).createSVGMatrix().rotate(c);svgtk.setTransformMatrix(b,d);return b},setTransformMatrix:function(b,c){var d=b.transform.baseVal,f=d.createSVGTransformFromMatrix(c);d.initialize(f);return b},getTransformMatrix:function(b){var c=b.transform.baseVal,d=c.numberOfItems;if(0!=d){b=c.getItem(d-1).matrix;
for(--d;0!=d;d--)b=c.getItem(d-1).matrix.multiply(b);return b}return svgtk.getRoot(b).createSVGMatrix()},getSVGIncludedRect:function(b){var c=b.createSVGRect();c.x=b.x.baseVal.value;c.y=b.y.baseVal.value;c.width=b.width.baseVal.value;c.height=b.height.baseVal.value;return c},setSVGPoint:function(b,c){b.x=c.x;b.y=c.y;return b},transformPoint:function(b,c){return b.matrixTransform(c)},setSVGRect:function(b,c){b.x=c.x;b.y=c.y;b.width=c.width;b.height=c.height;return b},copySVGRect:function(b,c){var d=
b.createSVGRect();d.x=c.x;d.y=c.y;d.width=c.width;d.height=c.height;return d},setSVGRectCenter:function(b,c,d){b.x=c-b.width/2;b.y=d-b.height/2;return b},getViewBoxRect:function(b){return b.viewBox.baseVal},inflateSVGRect:function(b,c,d,f){b=b.createSVGRect();b.x=c.x-d/2;b.y=c.y-f/2;b.width=c.width+d;b.height=c.height+f;return b},translateSVGRect:function(b,c,d,f){b=b.createSVGRect();b.x=c.x+d;b.y=c.y+f;b.width=c.width;b.height=c.height;return b},scaleSVGRectByCenter:function(b,c,d,f){return svgtk.inflateSVGRect(b,
c,c.width*(d-1),c.height*(f-1))},setValueInSpecifiedUnits:function(b,c){b.valueInSpecifiedUnits=c},hasStyleProperty:function(b,c){return null!=svgtk.getStylePropertyValue(b,c)},setPtyLength:function(b,c,d){if(null==d||/[a-z]*/.test(d))return svgtk.setStyleAttribute(b,c,d);svgtk.removeStyleProperty(b,c);return svgtk.setA(b,c,d)},getStyleMember:function(b,c){var d=svgtk.getStyle(b);if(null!=d&&""!=d){var f=d.indexOf(c+":",0);if(-1!=f){var g=d.indexOf(":",f),f=d.indexOf(";",f);return-1!=f?d.substring(g+
1,f):d.substring(g+1,d.length)}}return null},setStyleMember:function(b,c,d){var f=svgtk.getStyle(b);if(null!=f&&""!=f){var g=f.indexOf(c+":",0);return-1!=g?(c=f.indexOf(":",g),g=f.indexOf(";",g),-1!=g?svgtk.setStyle(b,f.substring(0,c+1)+d+f.substring(g,f.length)):svgtk.setStyle(b,f.substring(0,c+1)+d+";")):svgtk.setA(b,"style",c+":"+d+";"+f)}return svgtk.setA(b,"style",c+":"+d+";")},removeStyleProperty:function(b,c){b.style.removeProperty(c);return b},getStyleAttribute:function(b,c){var d=null;b.hasAttribute(c)&&
(d=svgtk.getA(b,c));null==d&&(d=svgtk.getStylePropertyValue(b,c));return d},getStylePropertyValue:function(b,c){var d=b.style.getPropertyValue(c);return null!=d&&0!=d.length?d:null},setStyleAttribute:function(b,c,d){if(b.hasAttribute(c))return b.style.removeProperty(c),svgtk.setA(b,c,d);b.style.setProperty(c,d,null);return b},getStyleMemberAttribute:function(b,c){var d=null;b.hasAttribute(c)&&(d=svgtk.getA(b,c));null==d&&(d=svgtk.getStyleMember(b,c));return d},setStyleMemberAttribute:function(b,c,
d){return b.hasAttribute(c)?(b.style.removeProperty(c),svgtk.setA(b,c,d)):svgtk.setStyleMember(b,c,d)},setStyleProperty:function(b,c,d){b.hasAttribute(c)&&svgtk.removeA(b,c);b.style.setProperty(c,d,null);return b},removeStyleAttribute:function(b,c){b.style.removeProperty(c);b.hasAttribute(c)&&svgtk.removeA(b,c);return b},setVisibility:function(b,c){return svgtk.setStyleProperty(b,"visibility",c)},checkDashValue:function(b){return RegExp("^[0-9]+( .[0-9]*)?(em|ex|px|in|cm|mm|pt|pc|%)?(,[0-9]+( .[0-9]*)?(em|ex|px|in|cm|mm|pt|pc|%)?)*$",
"g").test(b)},checkLengthValue:function(b){return RegExp("^[0-9]+( .[0-9]*)?(em|ex|px|in|cm|mm|pt|pc|%)?$","g").test(b)},checkPositiveFloatValue:function(b){return/^\s*(\+)?((\d+(\.\d+)?)|(\.\d+))\s*$/.test(b)},checkFloatValue:function(b){return/^\s*(\+|-)?((\d+(\.\d+)?)|(\.\d+))\s*$/.test(b)},getPathSegList:function(b){return"undefined"!=typeof b.pathSegList?b.pathSegList:"function"==typeof b.thePathSegList?b.thePathSegList():"function"==typeof window.createPathSegList?window.createPathSegList(b):
b.pathSegList},createSVGPathSegArcAbs:function(b,c,d,f,g,h,k,l){return"undefined"!=typeof b.createSVGPathSegArcAbs?b.createSVGPathSegArcAbs(c,d,f,g,h,k,l):"function"==typeof window.createSVGPathSegArcAbs?window.createSVGPathSegArcAbs(c,d,f,g,h,k,l):b.createSVGPathSegArcAbs(c,d,f,g,h,k,l)},createSVGPathSegArcRel:function(b,c,d,f,g,h,k,l){return"undefined"==typeof b.createSVGPathSegArcRel&&"function"==typeof window.createSVGPathSegArcRel?window.createSVGPathSegArcRel(c,d,f,g,h,k,l):b.createSVGPathSegArcRel(c,
d,f,g,h,k,l)},createSVGPathSegClosePath:function(){return"undefined"!=typeof e.createSVGPathSegClosePath?e.createSVGPathSegClosePath():"function"==typeof window.createSVGPathSegClosePath?window.createSVGPathSegClosePath():e.createSVGPathSegClosePath()},createSVGPathSegCurvetoCubicAbs:function(b,c,d,f,g,h,k){return"undefined"!=typeof b.createSVGPathSegCurvetoCubicAbs?b.createSVGPathSegCurvetoCubicAbs(c,d,f,g,h,k):"function"==typeof window.createSVGPathSegCurvetoCubicAbs?window.createSVGPathSegCurvetoCubicAbs(c,
d,f,g,h,k):b.createSVGPathSegCurvetoCubicAbs(c,d,f,g,h,k)},createSVGPathSegCurvetoCubicRel:function(b,c,d,f,g,h,k){return"undefined"!=typeof b.createSVGPathSegCurvetoCubicRel?b.createSVGPathSegCurvetoCubicRel(c,d,f,g,h,k):"function"==typeof window.createSVGPathSegCurvetoCubicRel?window.createSVGPathSegCurvetoCubicRel(c,d,f,g,h,k):b.createSVGPathSegCurvetoCubicRel(c,d,f,g,h,k)},createSVGPathSegCurvetoCubicSmoothAbs:function(b,c,d,f,g){return"undefined"!=typeof b.createSVGPathSegCurvetoCubicSmoothAbs?
b.createSVGPathSegCurvetoCubicSmoothAbs(c,d,f,g):"function"==typeof window.createSVGPathSegCurvetoCubicSmoothAbs?window.createSVGPathSegCurvetoCubicSmoothAbs(c,d,f,g):b.createSVGPathSegCurvetoCubicSmoothAbs(c,d,f,g)},createSVGPathSegCurvetoCubicSmoothRel:function(b,c,d,f,g){return"undefined"!=typeof b.createSVGPathSegCurvetoCubicSmoothRel?b.createSVGPathSegCurvetoCubicSmoothRel(c,d,f,g):"function"==typeof window.createSVGPathSegCurvetoCubicSmoothRel?window.createSVGPathSegCurvetoCubicSmoothRel(c,
d,f,g):b.createSVGPathSegCurvetoCubicSmoothRel(c,d,f,g)},createSVGPathSegCurvetoQuadraticAbs:function(b,c,d,f,g){return"undefined"!=typeof b.createSVGPathSegCurvetoQuadraticAbs?b.createSVGPathSegCurvetoQuadraticAbs(c,d,f,g):"function"==typeof window.createSVGPathSegCurvetoQuadraticAbs?window.createSVGPathSegCurvetoQuadraticAbs(c,d,f,g):b.createSVGPathSegCurvetoQuadraticAbs(c,d,f,g)},createSVGPathSegCurvetoQuadraticRel:function(b,c,d,f,g){return"undefined"!=typeof b.createSVGPathSegCurvetoQuadraticRel?
b.createSVGPathSegCurvetoQuadraticRel(c,d,f,g):"function"==typeof window.createSVGPathSegCurvetoQuadraticRel?window.createSVGPathSegCurvetoQuadraticRel(c,d,f,g):b.createSVGPathSegCurvetoQuadraticRel(c,d,f,g)},createSVGPathSegCurvetoQuadraticSmoothAbs:function(b,c,d){return"undefined"!=typeof b.createSVGPathSegCurvetoQuadraticSmoothAbs?b.createSVGPathSegCurvetoQuadraticSmoothAbs(c,d):"function"==typeof window.createSVGPathSegCurvetoQuadraticSmoothAbs?window.createSVGPathSegCurvetoQuadraticSmoothAbs(c,
d):b.createSVGPathSegCurvetoQuadraticSmoothAbs(c,d)},createSVGPathSegCurvetoQuadraticSmoothRel:function(b,c,d){return"undefined"!=typeof b.createSVGPathSegCurvetoQuadraticSmoothRel?b.createSVGPathSegCurvetoQuadraticSmoothRel(c,d):"function"==typeof window.createSVGPathSegCurvetoQuadraticSmoothRel?window.createSVGPathSegCurvetoQuadraticSmoothRel(c,d):b.createSVGPathSegCurvetoQuadraticSmoothRel(c,d)},createSVGPathSegLinetoAbs:function(b,c,d){return"undefined"!=typeof b.createSVGPathSegLinetoAbs?b.createSVGPathSegLinetoAbs(c,
d):"function"==typeof window.createSVGPathSegLinetoAbs?window.createSVGPathSegLinetoAbs(c,d):b.createSVGPathSegLinetoAbs(c,d)},createSVGPathSegLinetoRel:function(b,c,d){return"undefined"!=typeof b.createSVGPathSegLinetoRel?b.createSVGPathSegLinetoRel(c,d):"function"==typeof window.createSVGPathSegLinetoRel?window.createSVGPathSegLinetoRel(c,d):b.createSVGPathSegLinetoRel(c,d)},createSVGPathSegLinetoHorizontalAbs:function(b,c){return"undefined"!=typeof b.createSVGPathSegLinetoHorizontalAbs?b.createSVGPathSegLinetoHorizontalAbs(c):
"function"==typeof window.createSVGPathSegLinetoHorizontalAbs?window.createSVGPathSegLinetoHorizontalAbs(c):b.createSVGPathSegLinetoHorizontalAbs(c)},createSVGPathSegLinetoHorizontalRel:function(b,c){return"undefined"!=typeof b.createSVGPathSegLinetoHorizontalRel?b.createSVGPathSegLinetoHorizontalRel(c):"function"==typeof window.createSVGPathSegLinetoHorizontalRel?window.createSVGPathSegLinetoHorizontalRel(c):b.createSVGPathSegLinetoHorizontalRel(c)},createSVGPathSegLinetoVerticalAbs:function(b,c){return"undefined"!=
typeof b.createSVGPathSegLinetoVerticalAbs?b.createSVGPathSegLinetoVerticalAbs(c):"function"==typeof window.createSVGPathSegLinetoVerticalAbs?window.createSVGPathSegLinetoVerticalAbs(c):b.createSVGPathSegLinetoVerticalAbs(c)},createSVGPathSegLinetoVerticalRel:function(b,c){return"undefined"!=typeof b.createSVGPathSegLinetoVerticalRel?b.createSVGPathSegLinetoVerticalRel(c):"function"==typeof window.createSVGPathSegLinetoVerticalRel?window.createSVGPathSegLinetoVerticalRel(c):b.createSVGPathSegLinetoVerticalRel(c)},
createSVGPathSegMovetoAbs:function(b,c,d){return"undefined"!=typeof b.createSVGPathSegMovetoAbs?b.createSVGPathSegMovetoAbs(c,d):"function"==typeof window.createSVGPathSegMovetoAbs?window.createSVGPathSegMovetoAbs(c,d):b.createSVGPathSegMovetoAbs(c,d)},createSVGPathSegMovetoRel:function(b,c,d){return"undefined"!=typeof b.createSVGPathSegMovetoRel?b.createSVGPathSegMovetoRel(c,d):"function"==typeof window.createSVGPathSegMovetoRel?window.createSVGPathSegMovetoRel(c,d):b.createSVGPathSegMovetoRel(c,
d)},array:{}};svgtk.array.contains=function(b,c){for(var d=0;d<b.length;d++)if(b[d]==c)return!0;return!1};svgtk.array.removeItem=function(b,c){for(var d=0;d<b.length;d++)if(b[d]==c)return b.splice(d,1),!0;return!1};svgtk.colorRgb2Hex=function(b,c,d){b=svgtk.dec2hex((b<<16)+(c<<8)+d);c="";for(d=b.length;6>d;d++)c="0"+c;return"#"+c+b};svgtk.dec2hex=function(b){for(var c="";15<b;)c="0123456789ABCDEF".charAt(b-16*Math.floor(b/16))+c,b=Math.floor(b/16);return c="0123456789ABCDEF".charAt(b)+c};
svgtk.isNamedColor=function(b){return svgtk.colors[b]?!0:!1};svgtk.isHexColor=function(b){return null!=b&&"#"==b.charAt(0)&&7==b.length};svgtk.isRgbColor=function(b){return null!=b&&0==b.indexOf("rgb(")?(b=/(.*?)rgb\([ ]*(\d+)[ ]*,[ ]*(\d+)[ ]*,[ ]*(\d+)[ ]*\)/.exec(b),null!=b&&5==b.length):!1};svgtk.parseRgbColor=function(b){b=/(.*?)rgb\([ ]*(\d+)[ ]*,[ ]*(\d+)[ ]*,[ ]*(\d+)[ ]*\)/.exec(b);return{r:parseInt(b[2],10),g:parseInt(b[3],10),b:parseInt(b[4],10)}};
svgtk.colorHexToR=function(b){return parseInt(svgtk.cutHex(b).substring(0,2),16)};svgtk.colorHexToG=function(b){return parseInt(svgtk.cutHex(b).substring(2,4),16)};svgtk.colorHexToB=function(b){return parseInt(svgtk.cutHex(b).substring(4,6),16)};svgtk.cutHex=function(b){return"#"==b.charAt(0)?b.substring(1,7):b};svgtk.colorHsv2Hex=function(b,c,d){b=svgtk.hsv2rgb(b,c,d);return svgtk.colorRgb2Hex(b.r,b.g,b.b)};
svgtk.hsv2rgb=function(b,c,d){var f={r:0,g:0,g:0};if(0==c)f.r=Math.round(255*d),f.g=Math.round(255*d),f.b=Math.round(255*d);else{var g=b/60;b=Math.floor(g);var h=g-b;0==b%2&&(h=1-h);g=d*(1-c);c=d*(1-c*h);switch(b){case 0:f.r=d;f.g=c;f.b=g;break;case 1:f.r=c;f.g=d;f.b=g;break;case 2:f.r=g;f.g=d;f.b=c;break;case 3:f.r=g;f.g=c;f.b=d;break;case 4:f.r=c;f.g=g;f.b=d;break;case 5:f.r=d;f.g=g;f.b=c;break;case 6:f.r=d,f.g=c,f.b=g}f.r=Math.round(255*f.r);f.g=Math.round(255*f.g);f.b=Math.round(255*f.b)}return f};
svgtk.rgb2hsv=function(b,c,d){b/=255;c/=255;d/=255;var f=Math.min(b,Math.min(c,d)),g=Math.max(b,Math.max(c,d));return f==g?{h:0,s:0,v:f}:{h:60*((b==f?3:d==f?1:5)-(b==f?c-d:d==f?b-c:d-b)/(g-f)),s:(g-f)/g,v:g}};
svgtk.colors={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",
darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",
ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",
lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",
moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",
seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};svgtk.addListener=function(b,c,d){b.addEventListener(c,d,!1);return b};
svgtk.removeListener=function(b,c,d){b.removeEventListener(c,d,!1);return b};svgtk.addMouseWheelListener=function(b,c){var d=/Firefox/i.test(navigator.userAgent)?"DOMMouseScroll":"mousewheel";return svgtk.addListener(b,d,c)};svgtk.stopEvent=function(b){b.stopPropagation();b.preventDefault()};svgtk.testAgentFireFox=/Firefox/i.test(navigator.userAgent);svgtk.removeMouseWheelListener=function(b,c){return svgtk.removeListener(b,svgtk.testAgentFireFox?"DOMMouseScroll":"mousewheel",c)};
svgtk.getMouseWheelEventDelta=function(b){return Math.max(-1,Math.min(1,b.wheelDelta||-b.detail))};svgtk.isTouchSupported="ontouchstart"in window;
svgtk.touchAdaptHandlers=function(b){for(var c=0,d=b.firstChild;null!=d;d=d.nextSibling)d.tagName&&!d.hasAttribute("ontouchstart")&&(d.hasAttribute("onclick")?(svgtk.removeA(svgtk.setA(d,"ontouchstart",svgtk.getA(d,"onclick"),"onclick")),c++):d.hasAttribute("onmousedown")&&(svgtk.removeA(svgtk.setA(d,"ontouchstart",svgtk.getA(d,"onmousedown"),"onmousedown")),c++));for(d=b.firstChild;null!=d;d=d.nextSibling)d.tagName&&(c+=svgtk.touchAdaptHandlers(d));return c};
svgtk.numberFixDigit=function(b,c){var d=Math.pow(10,c);return(Math.round(b*d)/d).toFixed(c)};svgtk.checkTypeOfMember=function(b,c){try{return"undefined"!=typeof b[c]}catch(d){return!1}};svgtk.callWindowParentFunction=function(b){if(svgtk.checkTypeOfMember(window.parent,b))window.parent[b]();else if(svgtk.checkTypeOfMember(window,b))window[b]()};svgtk.callWindowParentFunction1=function(b,c){if(svgtk.checkTypeOfMember(window.parent,b))window.parent[b](c);else if(svgtk.checkTypeOfMember(window,b))window[b](c)};
svgtk.callWindowParentFunction2=function(b,c,d){if(svgtk.checkTypeOfMember(window.parent,b))window.parent[b](c,d);else if(svgtk.checkTypeOfMember(window,b))window[b](c,d)};svgtk.hypot=function(b,c){return Math.sqrt(b*c+c*c)};svgtk.messages={en:{},fr:{}};svgtk.local="en";
var SVGPreserveAspectRatio={SVG_PRESERVEASPECTRATIO_UNKNOWN:0,SVG_PRESERVEASPECTRATIO_NONE:1,SVG_PRESERVEASPECTRATIO_XMINYMIN:2,SVG_PRESERVEASPECTRATIO_XMIDYMIN:3,SVG_PRESERVEASPECTRATIO_XMAXYMIN:4,SVG_PRESERVEASPECTRATIO_XMINYMID:5,SVG_PRESERVEASPECTRATIO_XMIDYMID:6,SVG_PRESERVEASPECTRATIO_XMAXYMID:7,SVG_PRESERVEASPECTRATIO_XMINYMAX:8,SVG_PRESERVEASPECTRATIO_XMIDYMAX:9,SVG_PRESERVEASPECTRATIO_XMAXYMAX:10,SVG_MEETORSLICE_UNKNOWN:0,SVG_MEETORSLICE_MEET:1,SVG_MEETORSLICE_SLICE:2};var svgctrl={};svgctrl.MovingCtrl=function(){this.digit=1;this.touch=!1;this.enabled=!0;this.movingCB=this.moving.bind(this);this.downCB=this.downTarget=this.upCB=null;this.onMovingCB=this.onMoving.bind(this);this.onBarUpCB=this.onBarUp.bind(this);this.onTouchMoveCB=this.onTouchMove.bind(this);this.onTouchStartMovingCB=this.onTouchStartMoving.bind(this);this.onStartMovingCB=this.onStartMoving.bind(this);this.root=null};svgctrl.MovingCtrl.prototype.init=function(b){this.g=b;this.root=svgtk.getRoot(b);return this};
svgctrl.MovingCtrl.prototype.initTarget=function(b,c,d,f){this.g=b;this.root=svgtk.getRoot(b);this.movingCB=d;this.upCB=f;return this.setDownTarget(b,c)};svgctrl.MovingCtrl.prototype.setMovingCB=function(b){this.movingCB=b;return this};
svgctrl.MovingCtrl.prototype.setDownTarget=function(b,c){null!=this.downTarget&&(1==svgtk.isTouchSupported?svgtk.removeListener(this.downTarget,"touchstart",this.onTouchStartMovingCB):svgtk.removeListener(this.downTarget,"mousedown",this.onStartMovingCB));this.downTarget=b;this.downCB=c;1==svgtk.isTouchSupported?svgtk.addListener(b,"touchstart",this.onTouchStartMovingCB):svgtk.addListener(b,"mousedown",this.onStartMovingCB);return this};
svgctrl.MovingCtrl.prototype.setUpCB=function(b){this.upCB=b;return this};
svgctrl.MovingCtrl.prototype.initMoving=function(b,c,d,f){this.fw2svg=svgtk.getPix2SvgScale(this.g);this.digit=0;for(var g=1;g>this.fw2svg;g/=10)this.digit+=1;this.ex=c;this.ey=d;this.touch=f;null!=this.downCB&&this.downCB(b,c,d);1==f?svgtk.addListener(svgtk.addListener(svgtk.addListener(this.root,"touchmove",this.onTouchMoveCB),"touchend",this.onBarUpCB),"touchcancel",this.onBarUpCB):svgtk.addListener(svgtk.addListener(this.root,"mousemove",this.onMovingCB),"mouseup",this.onBarUpCB)};
svgctrl.MovingCtrl.prototype.onStartMoving=function(b){try{b.preventDefault(),this.enabled&&this.initMoving(b,b.clientX,b.clientY,!1)}catch(c){alert("svgctrl.MovingCtrl.onStartMoving "+c)}};svgctrl.MovingCtrl.prototype.moving=function(b,c){svgtk.translateElement(this.g,b,c)};svgctrl.MovingCtrl.prototype.movingXy=function(b,c){var d=(b-this.ex)*this.fw2svg,f=(c-this.ey)*this.fw2svg;this.ex=b;this.ey=c;this.movingCB(d,f,b,c)};
svgctrl.MovingCtrl.prototype.onMoving=function(b){try{this.movingXy(b.clientX,b.clientY)}catch(c){this.stop(),alert("svgctrl.MovingCtrl.onMoving "+c)}};svgctrl.MovingCtrl.prototype.onBarUp=function(b){this.stop();null!=this.upCB&&this.upCB(b)};
svgctrl.MovingCtrl.prototype.stop=function(){1==this.touch?svgtk.removeListener(svgtk.removeListener(svgtk.removeListener(this.root,"touchmove",this.onTouchMoveCB),"touchend",this.onBarUpCB),"touchcancel",this.onBarUpCB):svgtk.removeListener(svgtk.removeListener(this.root,"mousemove",this.onMovingCB),"mouseup",this.onBarUpCB)};svgctrl.MovingCtrl.prototype.setEnabled=function(b){this.enabled=b};
svgctrl.MovingCtrl.prototype.onTouchStartMoving=function(b){try{if(b.preventDefault(),this.enabled){var c=b.touches.item(0);this.initMoving(b,c.clientX,c.clientY,!0)}}catch(d){alert("svgctrl.MovingCtrl.onTouchStartMoving "+d)}};svgctrl.MovingCtrl.prototype.onTouchMove=function(b){try{b.preventDefault();var c=b.touches.item(0);this.movingXy(c.clientX,c.clientY)}catch(d){this.stop()}};svgctrl.NumberLabel=function(){};svgctrl.NumberLabel.prototype.text=null;svgctrl.NumberLabel.prototype.value=0;svgctrl.NumberLabel.prototype.visibleDigitCount=1;svgctrl.NumberLabel.prototype.init=function(b){this.text=b;this.value=parseFloat(svgtk.getTextData(this.text));return this};svgctrl.NumberLabel.prototype.initById=function(b){this.init(svgtk.get(b));return this};svgctrl.NumberLabel.prototype.setDigit=function(b){this.visibleDigitCount=b;return this};
svgctrl.NumberLabel.prototype.setDigitWithInterval=function(b,c,d){return this.setDigitWithResolution((c-b)/intervallCount)};svgctrl.NumberLabel.prototype.setDigitWithResolution=function(b){var c=1;for(this.visibleDigitCount=0;c>b;)c/=10,this.visibleDigitCount++;return this};svgctrl.NumberLabel.prototype.fixDigit=function(b){return 0>=this.visibleDigitCount?parseInt(b):svgtk.numberFixDigit(b,this.visibleDigitCount)};
svgctrl.NumberLabel.prototype.setValue=function(b){this.value=parseFloat(b);svgtk.setTextData(this.text,this.fixDigit(b));return this};svgctrl.NumberLabel.prototype.getValue=function(){return this.value};svgctrl.Slider=function(){this.mrc=new svgctrl.MovingCtrl;this.onIndexMoveCB=this.onIndexMove.bind(this);this.onIndexUpCB=this.onIndexUp.bind(this);this.onMoveCtrlCB=this.onMoveCtrl.bind(this);this.mrc.setMovingCB(this.onMoveCtrlCB);this.mrc.setUpCB(this.onIndexUpCB);this.downCB=null};svgctrl.Slider.prototype.enabled=!0;svgctrl.Slider.prototype.hz=!0;
svgctrl.Slider.prototype.initByName=function(b,c,d,f,g,h,k,l){this.init(svgtk.get(b+"-bar"),svgtk.get(b+"-index"),svgtk.get(b+"-value"),c,d,f,g,h,k,l);return this};svgctrl.Slider.prototype.initHzByName=function(b,c,d,f,g,h,k){this.init(svgtk.get(b+"-bar"),svgtk.get(b+"-index"),svgtk.get(b+"-value"),!0,c,d,f,h,k,!0);this.downCB=g;return this};
svgctrl.Slider.prototype.init=function(b,c,d,f,g,h,k,l,m,n){this.mrc.init(c);this.bar=b;this.index=c;this.valueText=new svgctrl.NumberLabel;this.valueText.init(d);this.value=d;this.cbMove=l;this.cbUp=m;this.hz=f;this.len=1==this.hz?this.bar.getBBox().width:this.bar.getBBox().height;this.inside=!0;this.setInterval(g,h,k);this.setValue(this.v1);1==n&&this.mrc.setDownTarget(c,this.initMoving.bind(this));return this};
svgctrl.Slider.prototype.setInterval=function(b,c,d){this.v1=parseFloat(b);this.v2=parseFloat(c);this.vmin=Math.min(this.v1,this.v2);this.vmax=Math.max(this.v1,this.v2);this.digit=d;this.valueText.setDigit(d);return this};svgctrl.Slider.prototype.setEnabled=function(b){b!=this.enabled&&(this.enabled=b,1==b?(this.inside&&svgtk.show(this.index),svgtk.show(this.value)):(svgtk.hide(this.index),svgtk.hide(this.value)));return this};
svgctrl.Slider.prototype.setInside=function(b){b?svgtk.show(this.index):svgtk.hide(this.index);svgtk.show(this.value);this.inside=b;return this};
svgctrl.Slider.prototype.setValue=function(b){this.enabled||this.setEnabled(!0);if(b>=this.vmin&&b<=this.vmax){var c=this.len*(b-this.v1)/(this.v2-this.v1);this.inside||svgtk.show(this.index);svgtk.setTransform(this.index,1==this.hz?"translate("+c+" 0)":"translate(0 "+c+")");0==this.inside&&svgtk.show(this.value);this.inside=!0}else this.inside=!1,svgtk.hide(this.index);this.valueText.setValue(b);return this};svgctrl.Slider.prototype.getValue=function(){return this.valueText.getValue()};
svgctrl.Slider.prototype.onIndexDown0=function(b){try{if(b.preventDefault(),this.enabled){var c=svgtk.getRoot(this.bar);this.fw2svg=svgtk.getPix2SvgScale(this.bar);this.mvC0=1==this.hz?b.clientX:b.clientY;this.mvOo=parseFloat(this.getValue());svgtk.addListener(svgtk.addListener(c,"mousemove",this.onIndexMoveCB),"mouseup",this.onIndexUpCB)}}catch(d){alert("Slider onIndexDown:"+d+" "+a)}};
svgctrl.Slider.prototype.initMoving=function(b,c,d){this.fw2svg=svgtk.getPix2SvgScale(this.bar);this.mvC0=1==this.hz?c:d;this.scale=this.fw2svg/this.len*(this.v2-this.v1);this.mvOo=parseFloat(this.getValue());null!=this.downCB&&this.downCB(b,c,d)};svgctrl.Slider.prototype.onIndexDown=function(b){this.initMoving(b,b.clientX,b.clientY);this.mrc.onStartMoving(b)};
svgctrl.Slider.prototype.onMoveCtrl=function(b,c,d,f){b=Math.max(this.vmin,Math.min(this.vmax,this.mvOo+((1==this.hz?d:f)-this.mvC0)*this.scale));b=this.fixDigit(b);null!=this.cbMove?this.cbMove(b):this.setValue(b)};svgctrl.Slider.prototype.fixDigit=function(b){return 0>=this.digit?parseInt(b):svgtk.numberFixDigit(parseFloat(b),this.digit)};
svgctrl.Slider.prototype.onIndexMove=function(b){try{var c=Math.max(this.vmin,Math.min(this.vmax,this.mvOo+((1==this.hz?b.clientX:b.clientY)-this.mvC0)*this.fw2svg/this.len*(this.v2-this.v1))),d=this.fixDigit(c);null!=this.cbMove?this.cbMove(d):this.setValue(d)}catch(f){b=svgtk.getRoot(this.bar),svgtk.removeListener(svgtk.removeListener(b,"mousemove",this.onIndexMoveCB),"mouseup",this.onIndexUpCB),alert("Slider onIndexMove:"+f)}};
svgctrl.Slider.prototype.onIndexUp0=function(b){try{var c=svgtk.getRoot(this.bar);svgtk.removeListener(svgtk.removeListener(c,"mousemove",this.onIndexMoveCB),"mouseup",this.onIndexUpCB);null!=this.cbUp&&this.cbUp(this.getValue())}catch(d){alert("Slider onIndexUp:"+d)}};svgctrl.Slider.prototype.onIndexUp=function(b){try{null!=this.cbUp&&this.cbUp(this.getValue())}catch(c){alert("Slider onIndexUp:"+c)}};svgctrl.Toggle=function(){this.g=this.e=null;return this};svgctrl.Toggle.prototype.init=function(b){this.g=b;this.e=svgtk.nextSiblingElement(svgtk.firstChildElement(this.g));svgtk.setElementRectBox(this.getLabelElement(),0);return this};svgctrl.Toggle.prototype.initByName=function(b){this.init(svgtk.get(b));return this};svgctrl.Toggle.prototype.getValue=function(){return-1!=svgtk.getClass(this.e).indexOf("1")};
svgctrl.Toggle.prototype.setValue=function(b){svgtk.setClass(this.e,1==b?svgtk.zapClassName(this.e,"0","1"):svgtk.zapClassName(this.e,"1","0"));return this};svgctrl.Toggle.prototype.invertValue=function(){this.setValue(!this.getValue());return this};svgctrl.Toggle.prototype.getLabelElement=function(){return svgtk.getNextSibling(this.e,"text")};svgctrl.Toggle.prototype.getLabel=function(){return svgtk.getTextData(this.getLabelElement())};
svgctrl.Toggle.prototype.setLabel=function(b){svgtk.setTextData(this.getLabelElement(),b);svgtk.setElementRectBox(this.getLabelElement(),0);return this};svgctrl.Toggle.prototype.setOpacity=function(b){svgtk.setFillOpacity(this.g,b);svgtk.setStrokeOpacity(this.g,b);return this};svgctrl.Toggle.prototype.removeOpacity=function(){svgtk.removeFillOpacity(this.g);svgtk.removeStrokeOpacity(this.g);return this};svgctrl.ToggleGroup=function(){this.l=[];this.enabled=!0;return this};
svgctrl.ToggleGroup.prototype.initByName=function(b){this.init(svgtk.get(b));return this};svgctrl.ToggleGroup.prototype.init=function(b){this.g=b;this.l.splice(0,this.l.length);for(b=this.g.firstChild;null!=b;b=b.nextSibling)b.tagName&&"g"==b.tagName&&this.l.push((new svgctrl.Toggle).init(b));for(b=0;b<this.l.length;b++)if(this.l[b].getValue()){for(b+=1;b<this.l.length;b++)this.l[b].getValue()&&this.l[b].setValue(!1);break}return this};
svgctrl.ToggleGroup.prototype.setEnabled=function(b){this.enabled=1==b;return this};svgctrl.ToggleGroup.prototype.isEnabled=function(){return this.enabled};svgctrl.ToggleGroup.prototype.getSelectedCtrl=function(){for(var b=0;b<this.l.length;b++)if(this.l[b].getValue())return this.l[b];return null};svgctrl.ToggleGroup.prototype.unset=function(){for(var b=0;b<this.l.length;b++)this.l[b].setValue(!1);return this};
svgctrl.ToggleGroup.prototype.findCtrlIndexByLabel=function(b){for(var c=b.toLowerCase(),d=0;d<this.l.length;d++){var f=this.l[d].getLabel();if(f==b||c==f.toLowerCase())return d}return-1};svgctrl.ToggleGroup.prototype.select=function(b){b=this.findCtrlIndexByLabel(b);this.unset();return-1!=b?(this.l[b].setValue(!0),b):-1};svgctrl.ToggleGroup.prototype.getCtrl=function(b){b=this.findCtrlIndexByLabel(b);return-1!=b?this.l[b]:null};
svgctrl.ToggleGroup.prototype.setOpacity=function(b){for(var c=0;c<this.l.length;c++)this.l[c].setOpacity(b);return this};svgctrl.ToggleGroup.prototype.removeOpacity=function(b){for(b=0;b<this.l.length;b++)this.l[b].removeOpacity();return this};svgctrl.TextEdit=function(){this.onKeypressCB=this.onKeypress.bind(this);this.onKeydownCB=this.onKeydown.bind(this);this.enabled=!0;this.focused=!1;this.resetOnClick=!0;this.autoSizeRectFlag=!1;this.rectMargin=0;this.autoSizeMinLengthValue="ABCDEFG";this.scrollable=!1;this.pValue=null};
svgctrl.TextEdit.prototype.init=function(b,c){var d=svgtk.getId(b);this.text=b;this.rect=svgtk.find(d+"-rect");null==this.rect&&(this.rect=svgtk.findNextSibling(this.text,"rect"));null==this.rect&&(this.rect=svgtk.getPreviousSibling(this.text,"rect"));this.cb=c;0==this.text.childNodes.length&&this.text.appendChild(this.text.ownerDocument.createTextNode(""));this.onKeypressCB=this.onKeypress.bind(this);this.onKeydownCB=this.onKeydown.bind(this);this.index=svgtk.find(d+"-index");this.matrix=svgtk.getRoot(b).createSVGMatrix();
this.gscroll=svgtk.find(d+"-scroll");null!=this.index&&(svgtk.hide(this.index),this.resetOnClick=!1);return this};svgctrl.TextEdit.prototype.setEnabled=function(b){this.enabled=b;return this};svgctrl.TextEdit.prototype.isEnabled=function(){return this.enabled};svgctrl.TextEdit.prototype.setArrowUpCB=function(b){this.arrowUpCB=b;return this};svgctrl.TextEdit.prototype.setArrowUpField=function(b){this.arrowUpField=b;return this};
svgctrl.TextEdit.prototype.setArrowDownCB=function(b){this.arrowDownCB=b;return this};svgctrl.TextEdit.prototype.setArrowDownField=function(b){this.arrowDownField=b;null!=b&&(b.arrowUpField=this);return this};svgctrl.TextEdit.prototype.setAutoSizeRect=function(b,c,d){this.autoSizeRectFlag=b;1==b&&(this.autoSizeMinLengthValue=c,this.rectMargin=d,this.autoSizeRect());return this};
svgctrl.TextEdit.prototype.autoSizeRect=function(){this.getValue().length<this.autoSizeMinLengthValue.length?this.setMaxRect(this.autoSizeMinLengthValue,this.rectMargin):this.setRect(this.rectMargin);return this};svgctrl.TextEdit.prototype.setRectMargin=function(b){this.rectMargin=b;this.autoSizeRectFlag&&this.autoSizeRect();return this};
svgctrl.TextEdit.prototype.setMaxRect=function(b,c){var d,f=svgtk.getTextData(this.text);svgtk.setTextData(this.text,b);d=this.text.getBBox();svgtk.setTextData(this.text,f);this.rectMargin=c;svgtk.setRect(this.rect,d,this.rectMargin);return d};svgctrl.TextEdit.prototype.setRect=function(b){var c=this.text.getBBox();this.rectMargin=b;svgtk.setRect(this.rect,c,this.rectMargin);return c};svgctrl.TextEdit.prototype.getValue=function(){return svgtk.getTextData(this.text)};
svgctrl.TextEdit.prototype.setValue=function(b){svgtk.setTextData(this.text,b);1==this.autoSizeRectFlag&&this.autoSizeRect();return this};svgctrl.TextEdit.prototype.setResetOnClick=function(b){this.resetOnClick=b;return this};
svgctrl.TextEdit.prototype.onclick=function(b){b.preventDefault();if(this.enabled)return null!=svgctrl.TextEdit.focusOwner&&svgctrl.TextEdit.focusOwner.validate(),this.addListeners(),this.focused=!0,this.pValue=svgtk.getTextData(this.text),svgtk.setClassSuffix(this.rect,"2"),this.rectBox=this.rect.getBBox(),this.indexPos=-1,1==this.resetOnClick&&svgtk.setTextData(this.text,""),this.numberOfChars=this.text.getNumberOfChars(),null!=this.index&&(this.indexPos=this.numberOfChars,0!=this.numberOfChars?
svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getEndPositionOfChar(this.numberOfChars-1).x,0)):svgtk.setTransformMatrix(this.index,this.matrix.translate(0,0)),svgtk.show(this.index),null!=this.gscroll&&svgtk.setTransformMatrix(this.gscroll,this.matrix.translate(0,0))),this.ensureVisible(),!0;throw"field is disabled";};
svgctrl.TextEdit.prototype.addListeners=function(){window.focus();svgtk.addListener(svgtk.addListener(document.documentElement,"keypress",this.onKeypressCB),"keydown",this.onKeydownCB);this.focused=!0;svgctrl.TextEdit.focusOwner=this};
svgctrl.TextEdit.prototype.removeListeners=function(){svgtk.removeListener(svgtk.removeListener(document.documentElement,"keypress",this.onKeypressCB),"keydown",this.onKeydownCB);svgtk.setClassSuffix(this.rect,"0");this.focused=!1;null!=this.index&&svgtk.hide(this.index);svgctrl.TextEdit.focusOwner=null};
svgctrl.TextEdit.prototype.onKeydown=function(b){var c=b.charCode|b.keyCode;if(8==c)b.preventDefault(),c=this.numberOfChars,0<c&&(-1==this.indexPos?(this.text.firstChild.deleteData(c-1,1),this.numberOfChars--):0<this.indexPos&&(this.indexPos==this.numberOfChars?svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getStartPositionOfChar(this.numberOfChars-1).x,0)):svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getStartPositionOfChar(this.indexPos-1).x,0)),this.text.firstChild.deleteData(this.indexPos-
1,1),this.indexPos=Math.max(0,this.indexPos-1),this.numberOfChars--),1==this.autoSizeRectFlag&&c>this.autoSizeMinLengthValue.length&&this.setRect(this.rectMargin),this.ensureVisible()),b.returnValue=!1;else if(37<=c&&40>=c)switch(c){case 37:null!=this.index&&0<this.numberOfChars&&(-1==this.indexPos?this.indexPos=this.numberOfChars-1:0<this.indexPos&&this.indexPos--,svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getStartPositionOfChar(this.indexPos).x,0)),this.ensureVisible());
break;case 39:null!=this.index&&(this.indexPos==this.numberOfChars?svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getEndPositionOfChar(this.numberOfChars-1).x,0)):this.indexPos==this.numberOfChars-1?(this.indexPos++,svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getEndPositionOfChar(this.numberOfChars-1).x,0))):(this.indexPos++,svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getStartPositionOfChar(this.indexPos).x,0))),this.ensureVisible());
break;case 38:this.abort();if(this.arrowUpCB)this.arrowUpCB(b);else if(this.arrowUpField)this.arrowUpField.onclick(b);break;case 40:if(this.abort(),this.arrowDownCB)this.arrowDownCB(b);else if(this.arrowDownField)this.arrowDownField.onclick(b)}};svgctrl.TextEdit.prototype.abort=function(){this.focused&&(svgtk.setTextData(this.text,this.pValue),this.removeListeners(),this.pValue=null)};
svgctrl.TextEdit.prototype.validate=function(b){if(this.focused&&(this.removeListeners(),void 0!=this.cb))try{this.setValue(this.cb(b,svgtk.getTextData(this.text),this.pValue))}catch(c){this.setValue(this.pValue)}};
svgctrl.TextEdit.prototype.onKeypress=function(b){var c=b.charCode|b.keyCode;if(13==c||10==c)if(this.validate(b),this.arrowDownCB)this.arrowDownCB(b);else{if(this.arrowDownField)this.arrowDownField.onclick(b)}else 31<c&&127!=c&&65535>c&&(-1==this.indexPos?this.text.firstChild.appendData(String.fromCharCode(c)):this.indexPos==this.numberOfChars?(this.text.firstChild.appendData(String.fromCharCode(c)),this.indexPos++,svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getEndPositionOfChar(this.numberOfChars).x,
0))):(this.text.firstChild.insertData(this.indexPos,String.fromCharCode(c)),svgtk.setTransformMatrix(this.index,this.matrix.translate(this.text.getEndPositionOfChar(this.indexPos).x,0)),this.indexPos++),this.numberOfChars++,1==this.autoSizeRectFlag&&svgtk.getTextDataLength(this.text)>this.autoSizeMinLengthValue.length&&this.setRect(this.rectMargin),this.ensureVisible());return b.returnValue=!1};
svgctrl.TextEdit.prototype.ensureVisible=function(){if(null!=this.gscroll&&0!=this.numberOfChars&&-1!=this.indexPos){var b=this.indexPos>=this.numberOfChars?this.numberOfChars-1:this.indexPos,c=this.text.getEndPositionOfChar(b);c.x<this.rectBox.x?(c=this.text.getStartPositionOfChar(b),svgtk.setTransformMatrix(this.gscroll,this.matrix.translate(this.rectBox.x-c.x,0))):c.x>this.rectBox.x+this.rectBox.width?svgtk.setTransformMatrix(this.gscroll,this.matrix.translate(this.rectBox.x+this.rectBox.width-
c.x,0)):svgtk.setTransformMatrix(this.gscroll,this.matrix.translate(0,0))}};svgctrl.TextEdit.focusOwner=null;var textpath={init:function(){textpath.textpath=null;textpath.path=null;textpath.offset=0;textpath.g=svgtk.get("textpathpanel-g");textpath.root=svgtk.getRoot(textpath.g);textpath.t=svgtk.get("total-length");textpath.mc=(new svgctrl.MovingCtrl).init(textpath.g);textpath.hs=(new svgctrl.Slider).initHzByName("offset",0,10,1,null,textpath.onOffsetCB,textpath.onOffsetCB);textpath.mtg=(new svgctrl.ToggleGroup).initByName("method");textpath.stg=(new svgctrl.ToggleGroup).initByName("spacing");textpath.oTextEdit=
(new svgctrl.TextEdit).init(svgtk.get("offset-value"),textpath.onTextEditOffset).setEnabled(!0);svgtk.setRect(svgtk.get("textPathOffsetApplyRect"),svgtk.get("textPathOffsetApplyText").getBBox(),1);textpath.mc.setDownTarget(svgtk.get("textpathpanel-bar"),null);svgtk.isTouchSupported&&svgtk.touchAdaptHandlers(textpath.root)},setTextPath:function(b){var c=b.href.baseVal,d=1;textpath.textpath=b;textpath.path=svgtk.get(c.substring(1,c.length));textpath.totalLength=textpath.path.getTotalLength();.01>textpath.totalLength?
d=3:.1>textpath.totalLength&&(d=2);textpath.offset=b.startOffset.baseVal.value.toFixed(d);textpath.hs.setInterval(0,textpath.totalLength,d);textpath.hs.setValue(textpath.offset);svgtk.setTextData(textpath.t,textpath.totalLength.toFixed(d));2==b.method.baseVal?textpath.mtg.select("stretch"):textpath.mtg.select("align");1==b.spacing.baseVal?textpath.stg.select("auto"):textpath.stg.select("exact")},onOffsetRect:function(b){textpath.offset=(svgtk.getX(b.target)*textpath.totalLength/10).toFixed(1);textpath.hs.setValue(textpath.offset);
textpath.textpath.startOffset.baseVal.value=textpath.offset},onOffsetCB:function(b){textpath.offset=b;textpath.textpath.startOffset.baseVal.value=b;textpath.hs.setValue(b)},onSetMethod:function(b,c){textpath.mtg.select(c);null!=textpath.textpath&&(textpath.textpath.method.baseVal="align"==c?1:2)},onSetSpacing:function(b,c){textpath.stg.select(c);null!=textpath.textpath&&(textpath.textpath.spacing.baseVal="auto"==c?1:2)},onClickTextEditOffset:function(b){textpath.oTextEdit.onclick(b)},onTextEditOffset:function(b,
c,d){return 1==/^[-+]?[0-9]*\.?[0-9]+$/.test(c)?(textpath.onOffsetCB(c),c):d},onClose:function(b){if("undefined"!=typeof window.parent.onTextPathClose)window.parent.onTextPathClose()},onApply:function(b){if("undefined"!=typeof window.parent.onTextPathApply)window.parent.onTextPathApply()},demoInit:function(){textpath.init();svgtk.hide(svgtk.get("textPathOffsetApplyText"));svgtk.hide(svgtk.get("textPathOffsetApplyRect"));svgtk.hide(svgtk.get("textPathOffsetCloseGroup"));textpath.setTextPath(svgtk.get("demo"))},
onCadre:function(b){b.stopPropagation();b.preventDefault()}};window.textpath_init=textpath.init;window.textpath_demoInit=textpath.demoInit;window.textpath_setTextPath=textpath.setTextPath;window.textpath_onOffsetRect=textpath.onOffsetRect;window.textpath_onSetMethod=textpath.onSetMethod;window.textpath_onSetSpacing=textpath.onSetSpacing;window.textpath_onClickTextEditOffset=textpath.onClickTextEditOffset;window.textpath_onClose=textpath.onClose;window.textpath_onApply=textpath.onApply;
window.textpath_onCadre=textpath.onCadre;
]]></script></defs></g></g></g></svg>